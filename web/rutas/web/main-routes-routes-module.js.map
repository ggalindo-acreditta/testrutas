{"version":3,"sources":["./node_modules/html-to-image/lib/applyStyleWithOptions.js","./node_modules/html-to-image/lib/cloneNode.js","./node_modules/html-to-image/lib/clonePseudoElements.js","./node_modules/html-to-image/lib/createSvgDataURL.js","./node_modules/html-to-image/lib/embedImages.js","./node_modules/html-to-image/lib/embedResources.js","./node_modules/html-to-image/lib/embedWebFonts.js","./node_modules/html-to-image/lib/getBlobFromURL.js","./node_modules/html-to-image/lib/index.js","./node_modules/html-to-image/lib/utils.js","./src/app/main/routes/cancel-dialog/cancel-dialog.component.html","./src/app/main/routes/create/create-route-dialog/create-route-dialog.component.html","./src/app/main/routes/create/create.component.html","./src/app/main/routes/delete-dialog/delete-dialog.component.html","./src/app/main/routes/detail/detail.component.html","./src/app/main/routes/reset-dialog/reset-dialog.component.html","./src/app/main/routes/route/route.component.html","./src/app/main/routes/routes.component.html","./src/app/main/routes/create/create-route-dialog/create-route-dialog.component.scss","./src/app/main/routes/create/create-route-dialog/create-route-dialog.component.ts","./src/app/main/routes/create/create.component.scss","./src/app/main/routes/create/create.component.ts","./src/app/main/routes/detail/detail.component.scss","./src/app/main/routes/detail/detail.component.ts","./src/app/main/routes/i18n/es.ts","./src/app/main/routes/route/route.component.scss","./src/app/main/routes/route/route.component.ts","./src/app/main/routes/routes.component.scss","./src/app/main/routes/routes.component.ts","./src/app/main/routes/routes.module.ts"],"names":[],"mappings":";;;;;;;;;;AAAa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClBa;AACb;AACA,4CAA4C;AAC5C;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,0DAAS;AAC/B,4CAA4C,mBAAO,CAAC,sFAAuB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kCAAkC,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD,2BAA2B,iCAAiC,EAAE;AAC9D;AACA;AACA;AACA;AACA,KAAK,EAAE,EAAE;AACT,2BAA2B,mBAAmB,EAAE;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,8CAA8C,EAAE;AAC3E,2BAA2B,8DAA8D,EAAE;AAC3F,2BAA2B,gDAAgD,EAAE;AAC7E,2BAA2B,mBAAmB,EAAE;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,mDAAmD,EAAE;AAC1F,qCAAqC,sCAAsC,EAAE;AAC7E;AACA;;;;;;;;;;;;;ACxEa;AACb,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,0DAAS;AAC/B;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA,yEAAyE;AACzE,KAAK;AACL;AACA;AACA;AACA;AACA,gDAAgD,gBAAgB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,2DAA2D,EAAE;AAC9F;AACA;;;;;;;;;;;;;ACrCa;AACb,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,0DAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClBa;AACb;AACA,4CAA4C;AAC5C;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,0DAAS;AAC/B,uCAAuC,mBAAO,CAAC,4EAAkB;AACjE,uCAAuC,mBAAO,CAAC,4EAAkB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,2DAA2D,EAAE;AACjG;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,+CAA+C,EAAE;AAC/E,+BAA+B,qEAAqE,EAAE;AACtG,kCAAkC;AAClC;AACA;AACA;AACA,KAAK,GAAG,EAAE;AACV,2BAA2B,mBAAmB,EAAE,eAAe,mBAAmB,EAAE;AACpF;AACA;AACA;AACA,mDAAmD,oCAAoC,EAAE;AACzF,oDAAoD,mBAAmB,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,uCAAuC,EAAE;AACxE,+BAA+B,sCAAsC,EAAE;AACvE,+BAA+B,qCAAqC,EAAE;AACtE;AACA;;;;;;;;;;;;;AChDa;AACb;AACA,4CAA4C;AAC5C;AACA,8CAA8C,cAAc;AAC5D,uCAAuC,mBAAO,CAAC,4EAAkB;AACjE,cAAc,mBAAO,CAAC,0DAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,yCAAyC,gCAAgC,EAAE;AAC3E;AACA;AACA;AACA;AACA,8BAA8B,+CAA+C,EAAE;AAC/E,+BAA+B,kEAAkE,EAAE;AACnG,kCAAkC,0EAA0E,EAAE;AAC9G,kCAAkC,gBAAgB,EAAE,eAAe,oBAAoB,EAAE;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,0CAA0C,kCAAkC,0CAA0C,EAAE,EAAE,EAAE,8BAA8B,EAAE;AAC3L;AACA;;;;;;;;;;;;;AClEa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,0DAAS;AAC/B,oCAAoC,mBAAO,CAAC,4EAAkB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,YAAY,OAAO;AAC3E;AACA,eAAe,aAAa,MAAM,gBAAgB,aAAa,GAAG;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,mBAAmB,EAAE;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA,aAAa;AACb,SAAS;AACT,iEAAiE,gBAAgB,EAAE;AACnF,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA,yBAAyB;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,8DAA8D,wBAAwB,EAAE;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA,iCAAiC,6CAA6C,EAAE;AAChF,iCAAiC,yEAAyE,EAAE;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA,KAAK,GAAG,EAAE;AACV,qCAAqC,8BAA8B,EAAE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;ACnLa;AACb;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,0DAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,wBAAwB,EAAE;AACjE,mCAAmC;AACnC;AACA,4CAA4C,+BAA+B;AAC3E;AACA;AACA,SAAS,EAAE,EAAE;AACb;AACA,gCAAgC;AAChC;AACA,SAAS,EAAE,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;;;;;;;;;;;AC3Ea;AACb;AACA,4CAA4C;AAC5C;AACA,8CAA8C,cAAc;AAC5D,kCAAkC,mBAAO,CAAC,kEAAa;AACvD,sCAAsC,mBAAO,CAAC,0EAAiB;AAC/D,oCAAoC,mBAAO,CAAC,sEAAe;AAC3D,yCAAyC,mBAAO,CAAC,gFAAoB;AACrE,8CAA8C,mBAAO,CAAC,0FAAyB;AAC/E,cAAc,mBAAO,CAAC,0DAAS;AAC/B;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA,YAAY;AACZ;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA,qCAAqC,qDAAqD,EAAE;AAC5F,qCAAqC,mDAAmD,EAAE;AAC1F,qCAAqC,6DAA6D,EAAE;AACpG,qCAAqC,8DAA8D,EAAE;AACrG;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA,iCAAiC,yEAAyE,EAAE;AAC5G;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C,8DAA8D,6BAA6B,EAAE;AAC7F;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C,8DAA8D,+DAA+D,EAAE;AAC/H;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChFa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,SAAS;AACT,KAAK,GAAG;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,OAAO;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mDAAmD,EAAE;AAChF;AACA,+BAA+B,4BAA4B,uBAAuB,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;AClJA;AAAe,uFAAwB,+BAA+B,2CAA2C,iCAAiC,kIAAk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","file":"main-routes-routes-module.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction applyStyleWithOptions(clonedNode, options) {\n    var style = clonedNode.style;\n    if (options.backgroundColor) {\n        style.backgroundColor = options.backgroundColor;\n    }\n    if (options.width) {\n        style.width = options.width + \"px\";\n    }\n    if (options.height) {\n        style.height = options.height + \"px\";\n    }\n    if (options.style) {\n        Object.assign(style, options.style);\n    }\n    return clonedNode;\n}\nexports.default = applyStyleWithOptions;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar clonePseudoElements_1 = __importDefault(require(\"./clonePseudoElements\"));\nfunction cloneSingleNode(nativeNode) {\n    if (nativeNode instanceof HTMLCanvasElement) {\n        return utils_1.createImage(nativeNode.toDataURL());\n    }\n    if (nativeNode.tagName && nativeNode.tagName.toLowerCase() === 'svg') {\n        return Promise.resolve(nativeNode)\n            .then(function (svg) { return utils_1.svgToDataURL(svg); })\n            .then(utils_1.createImage);\n    }\n    return Promise.resolve(nativeNode.cloneNode(false));\n}\nfunction cloneChildren(nativeNode, clonedNode, filter) {\n    var children = utils_1.toArray(nativeNode.childNodes);\n    if (children.length === 0) {\n        return Promise.resolve(clonedNode);\n    }\n    // clone children in order\n    return children.reduce(function (done, child) { return done\n        .then(function () { return cloneNode(child, filter); })\n        .then(function (clonedChild) {\n        if (clonedChild) {\n            clonedNode.appendChild(clonedChild);\n        }\n    }); }, Promise.resolve())\n        .then(function () { return clonedNode; });\n}\nfunction cloneCssStyle(nativeNode, clonedNode) {\n    var source = window.getComputedStyle(nativeNode);\n    var target = clonedNode.style;\n    if (source.cssText) {\n        target.cssText = source.cssText;\n    }\n    else {\n        utils_1.toArray(source).forEach(function (name) {\n            target.setProperty(name, source.getPropertyValue(name), source.getPropertyPriority(name));\n        });\n    }\n}\nfunction cloneInputValue(nativeNode, clonedNode) {\n    if (nativeNode instanceof HTMLTextAreaElement) {\n        clonedNode.innerHTML = nativeNode.value;\n    }\n    if (nativeNode instanceof HTMLInputElement) {\n        clonedNode.setAttribute('value', nativeNode.value);\n    }\n}\nfunction decorate(nativeNode, clonedNode) {\n    if (!(clonedNode instanceof Element)) {\n        return clonedNode;\n    }\n    return Promise.resolve()\n        .then(function () { return cloneCssStyle(nativeNode, clonedNode); })\n        .then(function () { return clonePseudoElements_1.default(nativeNode, clonedNode); })\n        .then(function () { return cloneInputValue(nativeNode, clonedNode); })\n        .then(function () { return clonedNode; });\n}\nfunction cloneNode(domNode, filter, isRoot) {\n    if (!isRoot && filter && !filter(domNode)) {\n        return Promise.resolve(null);\n    }\n    return Promise.resolve(domNode)\n        .then(cloneSingleNode)\n        .then(function (clonedNode) { return cloneChildren(domNode, clonedNode, filter); })\n        .then(function (clonedNode) { return decorate(domNode, clonedNode); });\n}\nexports.default = cloneNode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nfunction formatCssText(style) {\n    var content = style.getPropertyValue('content');\n    return style.cssText + \" content: \" + content + \";\";\n}\nfunction formatCssProperties(style) {\n    return utils_1.toArray(style).map(function (name) {\n        var value = style.getPropertyValue(name);\n        var priority = style.getPropertyPriority(name);\n        return name + \": \" + value + (priority ? ' !important' : '') + \";\";\n    }).join(' ');\n}\nfunction getPseudoElementStyle(className, pseudo, style) {\n    var selector = \".\" + className + \":\" + pseudo;\n    var cssText = style.cssText ? formatCssText(style) : formatCssProperties(style);\n    return document.createTextNode(selector + \"{\" + cssText + \"}\");\n}\nfunction clonePseudoElement(nativeNode, clonedNode, pseudo) {\n    var style = window.getComputedStyle(nativeNode, pseudo);\n    var content = style.getPropertyValue('content');\n    if (content === '' || content === 'none') {\n        return;\n    }\n    var className = utils_1.uuid();\n    var styleElement = document.createElement('style');\n    styleElement.appendChild(getPseudoElementStyle(className, pseudo, style));\n    clonedNode.className = clonedNode.className + \" \" + className;\n    clonedNode.appendChild(styleElement);\n}\nfunction clonePseudoElements(nativeNode, clonedNode) {\n    [\n        ':before',\n        ':after',\n    ].forEach(function (pseudo) { return clonePseudoElement(nativeNode, clonedNode, pseudo); });\n}\nexports.default = clonePseudoElements;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nfunction createSvgDataURL(clonedNode, width, height) {\n    var xmlns = 'http://www.w3.org/2000/svg';\n    var svg = document.createElementNS(xmlns, 'svg');\n    var foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttributeNS('', 'width', \"\" + width);\n    svg.setAttributeNS('', 'height', \"\" + height);\n    foreignObject.setAttributeNS('', 'width', '100%');\n    foreignObject.setAttributeNS('', 'height', '100%');\n    foreignObject.setAttributeNS('', 'x', '0');\n    foreignObject.setAttributeNS('', 'y', '0');\n    foreignObject.setAttributeNS('', 'externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n    foreignObject.appendChild(clonedNode);\n    return utils_1.svgToDataURL(svg);\n}\nexports.default = createSvgDataURL;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar getBlobFromURL_1 = __importDefault(require(\"./getBlobFromURL\"));\nvar embedResources_1 = __importDefault(require(\"./embedResources\"));\nfunction embedBackground(clonedNode, options) {\n    var background = clonedNode.style.getPropertyValue('background');\n    if (!background) {\n        return Promise.resolve(clonedNode);\n    }\n    return Promise.resolve(background)\n        .then(function (cssString) { return embedResources_1.default(cssString, null, options); })\n        .then(function (cssString) {\n        clonedNode.style.setProperty('background', cssString, clonedNode.style.getPropertyPriority('background'));\n        return clonedNode;\n    });\n}\nfunction embedImageNode(clonedNode, options) {\n    if (!(clonedNode instanceof HTMLImageElement) || utils_1.isDataUrl(clonedNode.src)) {\n        return Promise.resolve(clonedNode);\n    }\n    return Promise.resolve(clonedNode.src)\n        .then(function (url) { return getBlobFromURL_1.default(url, options); })\n        .then(function (data) { return utils_1.toDataURL(data, utils_1.getMimeType(clonedNode.src)); })\n        .then(function (dataURL) { return new Promise((function (resolve, reject) {\n        clonedNode.onload = resolve;\n        clonedNode.onerror = reject;\n        clonedNode.src = dataURL;\n    })); })\n        .then(function () { return clonedNode; }, function () { return clonedNode; });\n}\nfunction embedChildren(clonedNode, options) {\n    var children = utils_1.toArray(clonedNode.childNodes);\n    var deferreds = children.map(function (child) { return embedImages(child, options); });\n    return Promise.all(deferreds).then(function () { return clonedNode; });\n}\nfunction embedImages(clonedNode, options) {\n    if (!(clonedNode instanceof Element)) {\n        return Promise.resolve(clonedNode);\n    }\n    return Promise.resolve(clonedNode)\n        .then(function (node) { return embedBackground(node, options); })\n        .then(function (node) { return embedImageNode(node, options); })\n        .then(function (node) { return embedChildren(node, options); });\n}\nexports.default = embedImages;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar getBlobFromURL_1 = __importDefault(require(\"./getBlobFromURL\"));\nvar utils_1 = require(\"./utils\");\nvar URL_REGEX = /url\\((['\"]?)([^'\"]+?)\\1\\)/g;\nfunction resolveUrl(url, baseUrl) {\n    // url is absolute already\n    if (url.match(/^[a-z]+:\\/\\//i)) {\n        return url;\n    }\n    // url is absolute already, without protocol\n    if (url.match(/^\\/\\//)) {\n        return window.location.protocol + url;\n    }\n    // dataURI, mailto:, tel:, etc.\n    if (url.match(/^[a-z]+:/i)) {\n        return url;\n    }\n    var doc = document.implementation.createHTMLDocument();\n    var base = doc.createElement('base');\n    var a = doc.createElement('a');\n    doc.head.appendChild(base);\n    doc.body.appendChild(a);\n    if (baseUrl) {\n        base.href = baseUrl;\n    }\n    a.href = url;\n    return a.href;\n}\nfunction escape(url) {\n    return url.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n}\nfunction urlToRegex(url) {\n    return new RegExp(\"(url\\\\(['\\\"]?)(\" + escape(url) + \")(['\\\"]?\\\\))\", 'g');\n}\nfunction parseURLs(str) {\n    var result = [];\n    str.replace(URL_REGEX, function (raw, quotation, url) {\n        result.push(url);\n        return raw;\n    });\n    return result.filter(function (url) { return !utils_1.isDataUrl(url); });\n}\nfunction embed(cssString, resourceURL, baseURL, options) {\n    var resolvedURL = baseURL ? resolveUrl(resourceURL, baseURL) : resourceURL;\n    return Promise.resolve(resolvedURL)\n        .then(function (url) { return getBlobFromURL_1.default(url, options); })\n        .then(function (data) { return utils_1.toDataURL(data, utils_1.getMimeType(resourceURL)); })\n        .then(function (dataURL) { return cssString.replace(urlToRegex(resourceURL), \"$1\" + dataURL + \"$3\"); })\n        .then(function (content) { return content; }, function () { return resolvedURL; });\n}\nfunction shouldEmbed(string) {\n    return string.search(URL_REGEX) !== -1;\n}\nexports.shouldEmbed = shouldEmbed;\nfunction embedResources(cssString, baseUrl, options) {\n    if (!shouldEmbed(cssString)) {\n        return Promise.resolve(cssString);\n    }\n    return Promise.resolve(cssString)\n        .then(parseURLs)\n        .then(function (urls) { return urls.reduce(function (done, url) { return done.then(function (ret) { return embed(ret, url, baseUrl, options); }); }, Promise.resolve(cssString)); });\n}\nexports.default = embedResources;\n","\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar embedResources_1 = __importStar(require(\"./embedResources\"));\nfunction parseCSS(source) {\n    if (source === undefined) {\n        return [];\n    }\n    var cssText = source;\n    var css = [];\n    var cssKeyframeRegex = '((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})';\n    var combinedCSSRegex = '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]'\n        + '*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})'; // to match css & media queries together\n    var cssCommentsRegex = new RegExp('(\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)', 'gi');\n    // strip out comments\n    cssText = cssText.replace(cssCommentsRegex, '');\n    var keyframesRegex = new RegExp(cssKeyframeRegex, 'gi');\n    var arr;\n    while (true) {\n        arr = keyframesRegex.exec(cssText);\n        if (arr === null) {\n            break;\n        }\n        css.push(arr[0]);\n    }\n    cssText = cssText.replace(keyframesRegex, '');\n    // unified regex\n    var unified = new RegExp(combinedCSSRegex, 'gi');\n    while (true) {\n        arr = unified.exec(cssText);\n        if (arr === null) {\n            break;\n        }\n        css.push(arr[0]);\n    }\n    return css;\n}\nfunction fetchCSS(url, sheet) {\n    return fetch(url).then(function (res) {\n        return {\n            url: url,\n            cssText: res.text(),\n        };\n    }, function (e) {\n        console.log('ERROR FETCHING CSS: ', e.toString());\n    });\n}\nfunction embedFonts(data) {\n    return data.cssText.then(function (resolved) {\n        var cssText = resolved;\n        var fontLocations = cssText.match(/url\\([^)]+\\)/g) || [];\n        var fontLoadedPromises = fontLocations.map(function (location) {\n            var url = location.replace(/url\\(([^]+)\\)/g, '$1');\n            if (!url.startsWith('https://')) {\n                var source = data.url;\n                url = new URL(url, source).href;\n            }\n            return new Promise(function (resolve, reject) {\n                fetch(url)\n                    .then(function (res) { return res.blob(); })\n                    .then(function (blob) {\n                    var reader = new FileReader();\n                    reader.addEventListener('load', function (res) {\n                        // Side Effect\n                        cssText = cssText.replace(location, \"url(\" + reader.result + \")\");\n                        resolve([location, reader.result]);\n                    });\n                    reader.readAsDataURL(blob);\n                })\n                    .catch(reject);\n            });\n        });\n        return Promise.all(fontLoadedPromises).then(function () { return cssText; });\n    });\n}\nfunction getCssRules(styleSheets) {\n    var ret = [];\n    var promises = [];\n    // First loop inlines imports\n    styleSheets.forEach(function (sheet) {\n        if ('cssRules' in sheet) {\n            try {\n                utils_1.toArray(sheet.cssRules).forEach(function (item) {\n                    if (item.type === CSSRule.IMPORT_RULE) {\n                        promises.push(fetchCSS(item.href, sheet)\n                            .then(embedFonts)\n                            .then(function (cssText) {\n                            var parsed = parseCSS(cssText);\n                            parsed.forEach(function (rule) {\n                                sheet.insertRule(rule, sheet.cssRules.length);\n                            });\n                        })\n                            .catch(function (e) {\n                            console.log('Error loading remote css', e.toString());\n                        }));\n                    }\n                });\n            }\n            catch (e) {\n                var inline_1 = styleSheets.find(function (a) { return a.href === null; }) || document.styleSheets[0];\n                if (sheet.href != null) {\n                    promises.push(fetchCSS(sheet.href, inline_1)\n                        .then(embedFonts)\n                        .then(function (cssText) {\n                        var parsed = parseCSS(cssText);\n                        parsed.forEach(function (rule) {\n                            inline_1.insertRule(rule, sheet.cssRules.length);\n                        });\n                    })\n                        .catch(function (e) {\n                        console.log('Error loading remote stylesheet', e.toString());\n                    }));\n                }\n                console.log('Error inlining remote css file', e.toString());\n            }\n        }\n    });\n    return Promise\n        .all(promises)\n        .then(function () {\n        // Second loop parses rules\n        styleSheets.forEach(function (sheet) {\n            if ('cssRules' in sheet) {\n                try {\n                    utils_1.toArray(sheet.cssRules).forEach(function (item) {\n                        ret.push(item);\n                    });\n                }\n                catch (e) {\n                    console.log(\"Error while reading CSS rules from \" + sheet.href, e.toString());\n                }\n            }\n        });\n        return ret;\n    });\n}\nfunction getWebFontRules(cssRules) {\n    return cssRules\n        .filter(function (rule) { return rule.type === CSSRule.FONT_FACE_RULE; })\n        .filter(function (rule) { return embedResources_1.shouldEmbed(rule.style.getPropertyValue('src')); });\n}\nfunction parseWebFontRules(clonedNode) {\n    return new Promise(function (resolve, reject) {\n        if (!clonedNode.ownerDocument) {\n            reject(new Error('Provided element is not within a Document'));\n        }\n        resolve(utils_1.toArray(clonedNode.ownerDocument.styleSheets));\n    })\n        .then(getCssRules)\n        .then(getWebFontRules);\n}\nexports.parseWebFontRules = parseWebFontRules;\nfunction embedWebFonts(clonedNode, options) {\n    return parseWebFontRules(clonedNode)\n        .then(function (rules) { return Promise.all(rules.map(function (rule) {\n        var baseUrl = rule.parentStyleSheet ? rule.parentStyleSheet.href : null;\n        return embedResources_1.default(rule.cssText, baseUrl, options);\n    })); })\n        .then(function (cssStrings) { return cssStrings.join('\\n'); })\n        .then(function (cssString) {\n        var styleNode = document.createElement('style');\n        var sytleContent = document.createTextNode(cssString);\n        styleNode.appendChild(sytleContent);\n        if (clonedNode.firstChild) {\n            clonedNode.insertBefore(styleNode, clonedNode.firstChild);\n        }\n        else {\n            clonedNode.appendChild(styleNode);\n        }\n        return clonedNode;\n    });\n}\nexports.default = embedWebFonts;\n","\"use strict\";\n/* tslint:disable:max-line-length */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\n// KNOWN ISSUE\n// -----------\n// Can not handle redirect-url, such as when access 'http://something.com/avatar.png'\n// will redirect to 'http://something.com/65fc2ffcc8aea7ba65a1d1feda173540'\nvar TIMEOUT = 30000;\nfunction getBlobFromURL(url, options) {\n    // cache bypass so we dont have CORS issues with cached images\n    // ref: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n    if (options.cacheBust) {\n        url += ((/\\?/).test(url) ? '&' : '?') + (new Date()).getTime(); // tslint:disable-line\n    }\n    var failed = function (reason) {\n        var placeholder = '';\n        if (options.imagePlaceholder) {\n            var split = options.imagePlaceholder.split(/,/);\n            if (split && split[1]) {\n                placeholder = split[1];\n            }\n        }\n        var msg = \"Failed to fetch resource: \" + url;\n        if (reason) {\n            msg = typeof reason === 'string' ? reason : reason.message;\n        }\n        if (msg) {\n            console.error(msg);\n        }\n        return placeholder;\n    };\n    var deferred = window.fetch\n        // fetch\n        ? window.fetch(url)\n            .then(function (response) { return response.blob(); })\n            .then(function (blob) { return new Promise(function (resolve, reject) {\n            var reader = new FileReader();\n            reader.onloadend = function () { return resolve(reader.result); };\n            reader.onerror = reject;\n            reader.readAsDataURL(blob);\n        }); })\n            .then(utils_1.getDataURLContent)\n            .catch(function () { return new Promise(function (resolve, reject) {\n            reject();\n        }); })\n        // xhr\n        : new Promise((function (resolve, reject) {\n            var req = new XMLHttpRequest();\n            var timeout = function () {\n                reject(new Error(\"Timeout of \" + TIMEOUT + \"ms occured while fetching resource: \" + url));\n            };\n            var done = function () {\n                if (req.readyState !== 4) {\n                    return;\n                }\n                if (req.status !== 200) {\n                    reject(new Error(\"Failed to fetch resource: \" + url + \", status: \" + req.status));\n                    return;\n                }\n                var encoder = new FileReader();\n                encoder.onloadend = function () {\n                    resolve(utils_1.getDataURLContent(encoder.result));\n                };\n                encoder.readAsDataURL(req.response);\n            };\n            req.onreadystatechange = done;\n            req.ontimeout = timeout;\n            req.responseType = 'blob';\n            req.timeout = TIMEOUT;\n            req.open('GET', url, true);\n            req.send();\n        }));\n    return deferred.catch(failed);\n}\nexports.default = getBlobFromURL;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cloneNode_1 = __importDefault(require(\"./cloneNode\"));\nvar embedWebFonts_1 = __importDefault(require(\"./embedWebFonts\"));\nvar embedImages_1 = __importDefault(require(\"./embedImages\"));\nvar createSvgDataURL_1 = __importDefault(require(\"./createSvgDataURL\"));\nvar applyStyleWithOptions_1 = __importDefault(require(\"./applyStyleWithOptions\"));\nvar utils_1 = require(\"./utils\");\nfunction getImageSize(domNode, options) {\n    if (options === void 0) { options = {}; }\n    var width = options.width || utils_1.getNodeWidth(domNode);\n    var height = options.height || utils_1.getNodeHeight(domNode);\n    return { width: width, height: height };\n}\nfunction toSvgDataURL(domNode, options) {\n    if (options === void 0) { options = {}; }\n    var _a = getImageSize(domNode, options), width = _a.width, height = _a.height;\n    return cloneNode_1.default(domNode, options.filter, true)\n        .then(function (clonedNode) { return embedWebFonts_1.default(clonedNode, options); })\n        .then(function (clonedNode) { return embedImages_1.default(clonedNode, options); })\n        .then(function (clonedNode) { return applyStyleWithOptions_1.default(clonedNode, options); })\n        .then(function (clonedNode) { return createSvgDataURL_1.default(clonedNode, width, height); });\n}\nexports.toSvgDataURL = toSvgDataURL;\nfunction toCanvas(domNode, options) {\n    if (options === void 0) { options = {}; }\n    return toSvgDataURL(domNode, options)\n        .then(utils_1.createImage)\n        .then(utils_1.delay(100))\n        .then(function (image) {\n        var canvas = document.createElement('canvas');\n        var context = canvas.getContext('2d');\n        var ratio = utils_1.getPixelRatio();\n        var _a = getImageSize(domNode, options), width = _a.width, height = _a.height;\n        canvas.width = width * ratio;\n        canvas.height = height * ratio;\n        canvas.style.width = \"\" + width;\n        canvas.style.height = \"\" + height;\n        context.scale(ratio, ratio);\n        if (options.backgroundColor) {\n            context.fillStyle = options.backgroundColor;\n            context.fillRect(0, 0, canvas.width, canvas.height);\n        }\n        context.drawImage(image, 0, 0);\n        return canvas;\n    });\n}\nexports.toCanvas = toCanvas;\nfunction toPixelData(domNode, options) {\n    if (options === void 0) { options = {}; }\n    var _a = getImageSize(domNode, options), width = _a.width, height = _a.height;\n    return toCanvas(domNode, options)\n        .then(function (canvas) { return (canvas.getContext('2d').getImageData(0, 0, width, height).data); });\n}\nexports.toPixelData = toPixelData;\nfunction toPng(domNode, options) {\n    if (options === void 0) { options = {}; }\n    return toCanvas(domNode, options).then(function (canvas) { return (canvas.toDataURL()); });\n}\nexports.toPng = toPng;\nfunction toJpeg(domNode, options) {\n    if (options === void 0) { options = {}; }\n    return toCanvas(domNode, options).then(function (canvas) { return (canvas.toDataURL('image/jpeg', options.quality || 1)); });\n}\nexports.toJpeg = toJpeg;\nfunction toBlob(domNode, options) {\n    if (options === void 0) { options = {}; }\n    return toCanvas(domNode, options).then(utils_1.canvasToBlob);\n}\nexports.toBlob = toBlob;\nexports.default = {\n    toSvgDataURL: toSvgDataURL,\n    toCanvas: toCanvas,\n    toPixelData: toPixelData,\n    toPng: toPng,\n    toJpeg: toJpeg,\n    toBlob: toBlob,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WOFF = 'application/font-woff';\nvar JPEG = 'image/jpeg';\nvar mimes = {\n    woff: WOFF,\n    woff2: WOFF,\n    ttf: 'application/font-truetype',\n    eot: 'application/vnd.ms-fontobject',\n    png: 'image/png',\n    jpg: JPEG,\n    jpeg: JPEG,\n    gif: 'image/gif',\n    tiff: 'image/tiff',\n    svg: 'image/svg+xml',\n};\nexports.uuid = (function uuid() {\n    // generate uuid for className of pseudo elements.\n    // We should not use GUIDs, otherwise pseudo elements sometimes cannot be captured.\n    var counter = 0;\n    // ref: http://stackoverflow.com/a/6248722/2519373\n    var randomFourChars = function () {\n        return (\"0000\" + (Math.random() * (Math.pow(36, 4)) << 0).toString(36)).slice(-4);\n    };\n    return function () {\n        counter += 1;\n        return \"u\" + randomFourChars() + counter;\n    };\n}());\nfunction parseExtension(url) {\n    var match = /\\.([^./]*?)$/g.exec(url);\n    if (match)\n        return match[1];\n    return '';\n}\nexports.parseExtension = parseExtension;\nfunction getMimeType(url) {\n    var ext = parseExtension(url).toLowerCase();\n    return mimes[ext] || '';\n}\nexports.getMimeType = getMimeType;\nfunction delay(ms) {\n    return function (args) { return new Promise((function (resolve) {\n        setTimeout(function () {\n            resolve(args);\n        }, ms);\n    })); };\n}\nexports.delay = delay;\nfunction createImage(url) {\n    return new Promise((function (resolve, reject) {\n        var image = new Image();\n        image.onload = function () {\n            resolve(image);\n        };\n        image.onerror = reject;\n        image.crossOrigin = 'anonymous';\n        image.src = url;\n    }));\n}\nexports.createImage = createImage;\nfunction isDataUrl(url) {\n    return url.search(/^(data:)/) !== -1;\n}\nexports.isDataUrl = isDataUrl;\nfunction toDataURL(content, mimeType) {\n    return \"data:\" + mimeType + \";base64,\" + content;\n}\nexports.toDataURL = toDataURL;\nfunction getDataURLContent(dataURL) {\n    return dataURL.split(/,/)[1];\n}\nexports.getDataURLContent = getDataURLContent;\nfunction toBlob(canvas) {\n    return new Promise((function (resolve) {\n        var binaryString = window.atob(canvas.toDataURL().split(',')[1]);\n        var len = binaryString.length;\n        var binaryArray = new Uint8Array(len);\n        for (var i = 0; i < len; i += 1) {\n            binaryArray[i] = binaryString.charCodeAt(i);\n        }\n        resolve(new Blob([binaryArray], {\n            type: 'image/png',\n        }));\n    }));\n}\nfunction canvasToBlob(canvas) {\n    if (canvas.toBlob) {\n        return new Promise((function (resolve) {\n            canvas.toBlob(resolve);\n        }));\n    }\n    return toBlob(canvas);\n}\nexports.canvasToBlob = canvasToBlob;\nfunction toArray(arrayLike) {\n    var arr = [];\n    for (var i = 0, l = arrayLike.length; i < l; i += 1) {\n        arr.push(arrayLike[i]);\n    }\n    return arr;\n}\nexports.toArray = toArray;\nfunction px(node, styleProperty) {\n    var value = window.getComputedStyle(node).getPropertyValue(styleProperty);\n    return parseFloat(value.replace('px', ''));\n}\nfunction getNodeWidth(node) {\n    var leftBorder = px(node, 'border-left-width');\n    var rightBorder = px(node, 'border-right-width');\n    return node.scrollWidth + leftBorder + rightBorder;\n}\nexports.getNodeWidth = getNodeWidth;\nfunction getNodeHeight(node) {\n    var topBorder = px(node, 'border-top-width');\n    var bottomBorder = px(node, 'border-bottom-width');\n    return node.scrollHeight + topBorder + bottomBorder;\n}\nexports.getNodeHeight = getNodeHeight;\nfunction getPixelRatio() {\n    return (window.devicePixelRatio || 1);\n}\nexports.getPixelRatio = getPixelRatio;\nfunction svgToDataURL(svg) {\n    return Promise.resolve()\n        .then(function () { return new XMLSerializer().serializeToString(svg); })\n        .then(encodeURIComponent)\n        .then(function (html) { return \"data:image/svg+xml;charset=utf-8,\" + html; });\n}\nexports.svgToDataURL = svgToDataURL;\nfunction getBlobFromImageURL(url) {\n    return createImage(url).then(function (image) {\n        var width = image.width, height = image.height;\n        var canvas = document.createElement('canvas');\n        var context = canvas.getContext('2d');\n        var ratio = getPixelRatio();\n        canvas.width = width * ratio;\n        canvas.height = height * ratio;\n        canvas.style.width = \"\" + width;\n        canvas.style.height = \"\" + height;\n        context.scale(ratio, ratio);\n        context.drawImage(image, 0, 0);\n        var dataURL = canvas.toDataURL(getMimeType(url));\n        return getDataURLContent(dataURL);\n    });\n}\nexports.getBlobFromImageURL = getBlobFromImageURL;\n","export default \"<h1 mat-dialog-title>{{'CANCEL_OP.TITLE' | translate}}</h1>\\r\\n<div mat-dialog-content>\\r\\n    {{'CANCEL_OP.MESSAGE' | translate}}\\r\\n</div>\\r\\n<mat-dialog-actions align=\\\"end\\\">\\r\\n    <button mat-button mat-dialog-close color='warn' (click)=\\\"goViewRoutes();\\\">{{'CANCEL_OP.YES' | translate}}</button>\\r\\n    <button mat-button (click) = 'cancel();'>{{'CANCEL_OP.NO' | translate}}</button>\\r\\n</mat-dialog-actions>\\r\\n  \"","export default \"<div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"start center\\\" id=\\\"dialog\\\">\\r\\n    <span style=\\\"font-size: 2em;\\\" class=\\\"mb-24 mt-12\\\"><b>{{'CREATE.ENTER_DATA' | translate}}</b></span>\\r\\n    <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center start\\\" style=\\\"width: 100%\\\">\\r\\n        <form fxLayout=\\\"column\\\" fxFlex=\\\"25\\\" style=\\\"width: 100%;\\\" fxLayoutAlign=\\\"start center\\\" [formGroup]=\\\"form\\\">\\r\\n            <mat-form-field style=\\\"width: 85%;\\\" class=\\\"mb-20\\\">\\r\\n                <mat-label>{{'CREATE.NAME' | translate}}</mat-label>\\r\\n                <input matInput formControlName=\\\"name\\\" required>\\r\\n                <mat-error *ngIf=\\\"form.get('name').hasError('required')\\\">\\r\\n                    {{'ERROR.REQUIRED' | translate}}\\r\\n                </mat-error>\\r\\n                <mat-error *ngIf=\\\"form.get('name').hasError('minlength')\\\">\\r\\n                    {{'ERROR.MIN_LENGTH_5' | translate}}\\r\\n                </mat-error>\\r\\n            </mat-form-field>\\r\\n\\r\\n            <mat-form-field style=\\\"width: 85%;\\\" class=\\\"mb-20\\\">\\r\\n                <mat-label>{{'CREATE.MATERIALITY' | translate}}</mat-label>\\r\\n                <mat-select formControlName=\\\"materiality\\\" style=\\\"width: 100%\\\" required>\\r\\n                    <mat-option *ngFor=\\\"let mat of materiality\\\" [value]=\\\"mat.value\\\">{{mat.name}}</mat-option>\\r\\n                </mat-select>\\r\\n                <mat-error>\\r\\n                    {{'ERROR.REQUIRED' | translate}}\\r\\n                </mat-error>\\r\\n            </mat-form-field>\\r\\n\\r\\n            <mat-form-field style=\\\"width: 85%;\\\">\\r\\n                <mat-label>{{'CREATE.DIFFICULTY' | translate}}</mat-label>\\r\\n                <mat-select formControlName=\\\"difficulty\\\" style=\\\"width: 100%\\\" required>\\r\\n                    <mat-option *ngFor=\\\"let diff of difficulties\\\" [value]=\\\"diff.value\\\">{{diff.name}}</mat-option>\\r\\n                </mat-select>\\r\\n                <mat-error>\\r\\n                    {{'ERROR.REQUIRED' | translate}}\\r\\n                </mat-error>\\r\\n            </mat-form-field>\\r\\n        </form>\\r\\n\\r\\n        <form fxLayout=\\\"column\\\" fxFlex=\\\"25\\\" style=\\\"width: 100%;\\\" fxLayoutAlign=\\\"start center\\\" [formGroup]=\\\"form\\\">\\r\\n            <mat-form-field style=\\\"width: 90%; \\\" class=\\\"mb-20\\\">\\r\\n                <mat-label>{{'CREATE.CRITERION' | translate}}</mat-label>\\r\\n                <input matInput formControlName=\\\"criterion\\\">\\r\\n            </mat-form-field>\\r\\n\\r\\n            <mat-form-field style=\\\"width: 90%; \\\" class=\\\"mb-20\\\">\\r\\n                <mat-label>{{'CREATE.LANGUAGE' | translate}}</mat-label>\\r\\n                <mat-select formControlName=\\\"language\\\" style=\\\"width: 100%\\\" required>\\r\\n                    <mat-option *ngFor=\\\"let lang of languages\\\" [value]=\\\"lang.value\\\">{{lang.name}}</mat-option>\\r\\n                </mat-select>\\r\\n                <mat-error>\\r\\n                    {{'ERROR.REQUIRED' | translate}}\\r\\n                </mat-error>\\r\\n            </mat-form-field>\\r\\n\\r\\n            <mat-form-field style=\\\"width: 90%;\\\">\\r\\n                <mat-label>{{'CREATE.SCORE' | translate}}</mat-label>\\r\\n                <input matInput formControlName=\\\"score\\\" required>\\r\\n                <mat-error *ngIf=\\\"form.get('score').hasError('required')\\\">\\r\\n                    {{'ERROR.REQUIRED' | translate}}\\r\\n                </mat-error>\\r\\n                <mat-error *ngIf=\\\"form.get('score').hasError('pattern')\\\">\\r\\n                    {{'ERROR.NUMERIC' | translate}}\\r\\n                </mat-error>\\r\\n            </mat-form-field>\\r\\n        </form>\\r\\n\\r\\n        <form fxFlex=\\\"25\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"start center\\\" style=\\\"height: 100%\\\" [formGroup]=\\\"form\\\">\\r\\n            <mat-form-field style=\\\"width: 95%;\\\">\\r\\n                <mat-label>{{'CREATE.EXPIRE_AT' | translate}}</mat-label>\\r\\n                <input\\r\\n                    matInput\\r\\n                    formControlName=\\\"expire_at\\\"\\r\\n                    [matDatepicker]=\\\"datepicker1\\\"\\r\\n                    onkeydown=\\\"return false\\\"\\r\\n                    autocomplete=\\\"off\\\"\\r\\n                >\\r\\n                <mat-datepicker-toggle matSuffix [for]=\\\"datepicker1\\\"></mat-datepicker-toggle>\\r\\n                <mat-datepicker #datepicker1></mat-datepicker>\\r\\n            </mat-form-field>\\r\\n\\r\\n            <mat-form-field style=\\\"width: 95%;\\\" appearance=\\\"outline\\\">\\r\\n                <mat-label>{{'CREATE.DESCRIPTION' | translate}}</mat-label>\\r\\n                <textarea matInput\\r\\n                    formControlName=\\\"description\\\"\\r\\n                    cdkTextareaAutosize\\r\\n                    cdkAutosizeMinRows=\\\"6\\\"\\r\\n                    cdkAutosizeMaxRows=\\\"6\\\"\\r\\n                    style=\\\"position: relative;\\\"\\r\\n                ></textarea>\\r\\n                <mat-error>\\r\\n                    {{'ERROR.MAX_LENGTH_140' | translate}}\\r\\n                </mat-error>\\r\\n            </mat-form-field>\\r\\n        </form>\\r\\n\\r\\n        <form fxLayout=\\\"column\\\" fxFlex=\\\"25\\\" style=\\\"width: 100%;\\\" fxLayoutAlign=\\\"start center\\\" [formGroup]=\\\"form\\\">\\r\\n            <mat-form-field style=\\\"width: 95%; min-height: 119.5px; max-height: 119.5px;\\\">\\r\\n                <mat-chip-list #chipList1>\\r\\n                    <mat-chip *ngFor=\\\"let skill of skills\\\" selected [removable]=\\\"true\\\" (removed)=\\\"remove(skill, 'skills')\\\" color=\\\"accent\\\">\\r\\n                        {{skill}}\\r\\n                        <mat-icon matChipRemove>cancel</mat-icon>\\r\\n                    </mat-chip>\\r\\n                    <input \\r\\n                        placeholder=\\\"{{ 'CREATE.SKILLS' | translate }}\\\"\\r\\n                        [matChipInputFor]=\\\"chipList1\\\"\\r\\n                        [matChipInputSeparatorKeyCodes]=\\\"separatorKeysCodes\\\"\\r\\n                        [matChipInputAddOnBlur]=\\\"addOnBlur\\\"\\r\\n                        (matChipInputTokenEnd)=\\\"add($event, 'skills')\\\">\\r\\n                </mat-chip-list>\\r\\n            </mat-form-field>\\r\\n\\r\\n            <mat-form-field style=\\\"width: 95%; min-height: 119.5px; max-height: 119.5px;\\\">\\r\\n                <mat-chip-list #chipList2>\\r\\n                    <mat-chip *ngFor=\\\"let tag of tags\\\" selected [removable]=\\\"true\\\" (removed)=\\\"remove(tag, 'tags')\\\" color=\\\"accent\\\">\\r\\n                        {{tag}}\\r\\n                        <mat-icon matChipRemove>cancel</mat-icon>\\r\\n                    </mat-chip>\\r\\n                    <input \\r\\n                        placeholder=\\\"{{ 'CREATE.TAGS' | translate }}\\\"\\r\\n                        [matChipInputFor]=\\\"chipList2\\\"\\r\\n                        [matChipInputSeparatorKeyCodes]=\\\"separatorKeysCodes\\\"\\r\\n                        [matChipInputAddOnBlur]=\\\"addOnBlur\\\"\\r\\n                        (matChipInputTokenEnd)=\\\"add($event, 'tags')\\\">\\r\\n                </mat-chip-list>\\r\\n            </mat-form-field>\\r\\n        </form>\\r\\n    </div>\\r\\n\\r\\n    <div fxFlex style=\\\"width: 100%; overflow-y: auto;\\\">\\r\\n        <div fxFlex=\\\"25\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"start center\\\" style=\\\"height: 100%;\\\" class=\\\"p-8\\\">\\r\\n            <img *ngIf=\\\"!image\\\" src=\\\"{{defaultImg}}\\\" (click)=\\\"file?.click()\\\" class=\\\"placeholder img\\\" style=\\\"max-width: 50%; max-height: 100%;\\\">\\r\\n            <img *ngIf=\\\"image\\\" src=\\\"{{image}}\\\" (click)=\\\"file?.click()\\\" style=\\\"max-width: 50%; max-height: 100%;\\\" class=\\\"img\\\">\\r\\n            <div style=\\\"width: 100%;\\\" fxLayoutAlign=\\\"center center\\\" class=\\\"pt-20\\\">\\r\\n                <span *ngIf=\\\"image\\\" style=\\\"color: red; cursor: pointer;\\\" (click)=\\\"removeImage()\\\"><b>{{ \\\"DELETE\\\" | translate }}</b></span>\\r\\n            </div>\\r\\n            <input #file id=\\\"file-input\\\" type=\\\"file\\\" style=\\\"display: none;\\\" (change)=\\\"preview(file.files)\\\"/>\\r\\n        </div>\\r\\n        <div cdkDropList fxFlex=\\\"75\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"start center\\\" style=\\\"max-height: 100%; overflow-y: scroll; border-left: 1px solid rgba(0,0,0,0.42);\\\">\\r\\n            <div *ngFor=\\\"let element of elementList\\\" cdkDrag [cdkDragDisabled]=\\\"true\\\" class=\\\"example-box\\\">\\r\\n                <span fxFlex=\\\"55\\\">{{element.name}}</span>\\r\\n                <mat-checkbox *ngIf=\\\"element.first\\\" disabled color=\\\"primary\\\" checked=\\\"true\\\" class=\\\"px-20\\\">{{ 'CREATE.START' | translate }}</mat-checkbox>\\r\\n                <mat-checkbox *ngIf=\\\"element.parent === null\\\" disabled color=\\\"primary\\\" checked=\\\"true\\\" class=\\\"px-20\\\">{{ 'CREATE.FINISH' | translate }}</mat-checkbox>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\" fxFlex=\\\"10\\\" style=\\\"width: 100%\\\">\\r\\n        <span class=\\\"error-msg pl-28\\\">{{'ERROR.WARN_DISCONNECTED_ELEMENTS' | translate }}</span>\\r\\n        <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end center\\\" style=\\\"width: 100%\\\" class=\\\"pr-60\\\">\\r\\n            <button mat-raised-button color=\\\"accent\\\" class=\\\"mr-24 btn\\\" (click)=\\\"dialogRef.close()\\\">{{ 'CREATE.CANCEL' | translate }}</button>\\r\\n            <button mat-raised-button color=\\\"accent\\\" class=\\\"btn\\\" (click)=\\\"save()\\\" [disabled]=\\\"form.invalid\\\">{{ 'CREATE.SAVE' | translate }}</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","export default \"<div #root id=\\\"root\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start start\\\" class=\\\"page-layout simple\\\">\\r\\n    <span style=\\\"position: absolute; left: 20px; top: 12px\\\" *ngIf=\\\"rootName\\\">\\r\\n        <b>{{'CREATE.ROOT_ELEMENT' | translate}}: </b>{{rootName}}\\r\\n    </span>\\r\\n    <span style=\\\"position: absolute; left: 20px; top: 12px\\\" *ngIf=\\\"!rootName\\\">\\r\\n        <b>{{'CREATE.ROOT_ELEMENT' | translate}}: </b>{{'CREATE.NO_ROOT' | translate}}\\r\\n    </span>\\r\\n    <button mat-raised-button style=\\\"position: absolute; left: 20px; bottom: 12px; height: 40px; width: 100px;\\\"\\r\\n        color=\\\"accent\\\" (click)=\\\"goViewRoutes()\\\">{{'CREATE.BACK' | translate}}</button>\\r\\n    <div #canvascontainer (mousemove)=\\\"getMousePos($event)\\\" (mouseup)=\\\"cancelDragging($event)\\\" fxLayout=\\\"row\\\" class=\\\"canvas-container\\\"\\r\\n        fxLayoutAlign=\\\"center center\\\" fxFlex=\\\"80\\\" fxFill style=\\\"border-right: 1px solid #bbb\\\"\\r\\n        >\\r\\n        <canvas id=\\\"mycanvas\\\" #mycanvas (click)=\\\"showMenu = -1\\\"\\r\\n            style=\\\"user-select: none; -moz-user-select: none; -webkit-user-select: none; -ms-user-select: none;\\\"></canvas>\\r\\n        <div *ngFor=\\\"let element of arrowElements\\\" [ngStyle]=\\\"element.style\\\"matTooltip=\\\"{{ 'ROUTE.DELETE' | translate }}\\\"\\r\\n            matTooltipShowDelay=\\\"300\\\" (click)=\\\"deleteLink(element.id)\\\"></div>\\r\\n    </div>\\r\\n\\r\\n    <div fxFlex=\\\"20\\\" fxLayout=\\\"column\\\" style=\\\"overflow: hidden; height: 100%;\\\">\\r\\n        <div fxFlex=\\\"6\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start start\\\" style=\\\"width: 100%;\\\" class=\\\"px-20 pt-12 h-50\\\">\\r\\n            <mat-icon *ngIf=\\\"!draggingArrow\\\" matTooltip=\\\"{{ 'CREATE.ADD_ROUTE' | translate }}\\\" class=\\\"action-icon mat-card\\\" (click)=\\\"setEdit()\\\">subdirectory_arrow_left</mat-icon>\\r\\n            <mat-icon *ngIf=\\\"draggingArrow\\\" matTooltip=\\\"{{ 'CREATE.CANCEL' | translate }}\\\" class=\\\"action-icon pushed\\\" (click)=\\\"cancelEdit()\\\">subdirectory_arrow_left</mat-icon>\\r\\n            <img *ngIf=\\\"!delete\\\" src=\\\"assets/icons/eraser.png\\\" class=\\\"action-icon mat-card\\\" style=\\\"width: 35px; height: 35px; position: relative; left: 8px;\\\"\\r\\n                alt=\\\"eraser\\\" matTooltip=\\\"{{ 'CREATE.DELETE_LINK' | translate }}\\\" (click)=\\\"setDelete()\\\">\\r\\n            <img *ngIf=\\\"delete\\\" src=\\\"assets/icons/eraser.png\\\" class=\\\"action-icon pushed\\\" style=\\\"width: 35px; height: 35px; position: relative; left: 8px;\\\"\\r\\n            alt=\\\"eraser\\\" matTooltip=\\\"{{ 'CREATE.CANCEL' | translate }}\\\" (click)=\\\"cancelDelete()\\\">\\r\\n            <mat-icon *ngIf=\\\"action === 'create'\\\" class=\\\"action-icon mat-card\\\" style=\\\"margin-left: auto;\\\" (click)=\\\"resetRoutes();\\\" matTooltip=\\\"{{ 'CREATE.RESTART' | translate }}\\\">replay</mat-icon>\\r\\n        </div>\\r\\n        <div fxFlex=\\\"86\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\" style=\\\"overflow-y: hidden;\\\">\\r\\n            <form fxFlex=\\\"8\\\" style=\\\"width: 80%;\\\" class=\\\"h-50\\\" [formGroup]=\\\"searchForm\\\">\\r\\n                <mat-form-field style=\\\"width: 100%;\\\" class=\\\"pb-4\\\">\\r\\n                    <mat-label>{{ 'CREATE.SEARCH' | translate }}</mat-label>\\r\\n                    <input matInput autocomplete=\\\"off\\\" formControlName=\\\"search\\\" (valueChanges)=\\\"searchChanged(evt)\\\">\\r\\n                </mat-form-field>\\r\\n            </form>\\r\\n            <div class=\\\"example-list\\\" #container fxFlex fxLayout=\\\"column\\\">\\r\\n                <div id=\\\"empty\\\" *ngIf=\\\"elements.length === 0 && !loading\\\" style=\\\"text-align: center;\\\" fxFlex class=\\\"p-20\\\" fxLayoutAlign=\\\"center center\\\">\\r\\n                    <span style=\\\"font-size: 1.25em;\\\" class=\\\"pb-40\\\">{{ 'CREATE.NO_ELEMENTS' | translate }}</span>\\r\\n                </div>\\r\\n                <div *ngFor=\\\"let element of _elements;\\\"\\r\\n                    id=\\\"{{ 'element_' + element.id }}\\\"\\r\\n                    fxLayout=\\\"column\\\"\\r\\n                    fxLayoutAlign=\\\"center center\\\"\\r\\n                    class=\\\"mat-card mb-40 element-card\\\"\\r\\n                    [ngStyle]=\\\"getSize(element.id)\\\"\\r\\n                    cdkDrag\\r\\n                    [cdkDragDisabled]=\\\"draggingArrow || delete\\\"\\r\\n                    (click)=\\\"select($event)\\\"\\r\\n                    (cdkDragStarted)=\\\"startDragging($event)\\\"\\r\\n                    (cdkDragMoved)=\\\"movedDragging($event)\\\"\\r\\n                    (cdkDragEnded)=\\\"endDragging($event)\\\"\\r\\n                    [cdkDragFreeDragPosition]=\\\"resetPosition[element.id]\\\"\\r\\n                    (mousedown)=\\\"mousedown()\\\"\\r\\n                    (mouseup)=\\\"mouseup(element.id, $event)\\\"\\r\\n                    oncontextmenu=\\\"return false\\\"\\r\\n                >\\r\\n                    <div fxFlex=\\\"100\\\" fxLayoutAlign=\\\"center center\\\" style=\\\"overflow: hidden; border-radius: 100%;\\r\\n                        user-select: none; -moz-user-select: none; -webkit-user-select: none; -ms-user-select: none;\\\">\\r\\n                        <img *ngIf=\\\"doesFit(element.name)\\\" style=\\\"max-height: 100px; min-height: 100px; height: 100px;\\\" [ngStyle]=\\\"getImageSize(element.id)\\\" src=\\\"{{element.image_url}}\\\" onerror=\\\"this.src='assets/images/error.png';\\\">\\r\\n                        <img *ngIf=\\\"!doesFit(element.name)\\\" style=\\\"max-height: 100px; min-height: 100px; height: 100px;\\\" [ngStyle]=\\\"getImageSize(element.id)\\\" src=\\\"{{element.image_url}}\\\" onerror=\\\"this.src='assets/images/error.png';\\\">\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"draggingArrow && isSelectable(element.id)\\\">\\r\\n                        <div class=\\\"terminal\\\" [ngStyle]=\\\"getTerminalStyle('top', element.id)\\\"\\r\\n                            (mousedown)=\\\"setDragging($event, 'top', element.id)\\\"\\r\\n                            (mouseup)=\\\"setDragging($event, 'none', element.id)\\\"></div>\\r\\n                        <div class=\\\"terminal\\\" [ngStyle]=\\\"getTerminalStyle('right', element.id)\\\"\\r\\n                            (mousedown)=\\\"setDragging($event, 'right', element.id)\\\"\\r\\n                            (mouseup)=\\\"setDragging($event, 'none', element.id)\\\"></div>\\r\\n                        <div class=\\\"terminal\\\" [ngStyle]=\\\"getTerminalStyle('bottom', element.id)\\\"\\r\\n                            (mousedown)=\\\"setDragging($event, 'bottom', element.id)\\\"\\r\\n                            (mouseup)=\\\"setDragging($event, 'none', element.id)\\\"></div>\\r\\n                        <div class=\\\"terminal\\\" [ngStyle]=\\\"getTerminalStyle('left', element.id)\\\"\\r\\n                            (mousedown)=\\\"setDragging($event, 'left', element.id)\\\"\\r\\n                            (mouseup)=\\\"setDragging($event, 'none', element.id)\\\"></div>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"!doesFit(element.name)\\\" class=\\\"tooltip\\\">\\r\\n                        <span class=\\\"pt-4\\\">{{element.name}}</span>\\r\\n                    </div>\\r\\n                    <div style=\\\"width: 200%; height: 20px; text-align: center; font-size: 0.7em; position: absolute; bottom: -25px;\\\">\\r\\n                        <span *ngIf=\\\"doesFit(element.name)\\\" style=\\\"user-select: none;-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none;\\\"\\r\\n                            class=\\\"pt-4\\\"><b>{{element.name}}</b></span>\\r\\n                        <span *ngIf=\\\"!doesFit(element.name)\\\" style=\\\"user-select: none;-moz-user-select: none; -webkit-user-select: none; -ms-user-select: none;\\\"\\r\\n                            class=\\\"pt-4 hideable-text\\\"><b>{{getElementEllipse(element.name)}}</b></span>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"this.showMenu == element.id\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center\\\" class=\\\"element-menu mat-elevation-z8\\\">\\r\\n                        <p style=\\\"margin: 0; padding: 10px;\\\"><b>{{element.name}}</b></p>\\r\\n                        <mat-divider></mat-divider>\\r\\n                        <div style=\\\"width: 100%;\\\" (click)=\\\"setGoal(element)\\\">{{ 'CREATE.SET_AS_GOAL' | translate }}</div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div fxFlex=\\\"8\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\" class=\\\"p-8\\\">\\r\\n            <button mat-raised-button style=\\\"height: 42px;\\\" color=\\\"accent\\\" (click)=\\\"goCreateRoute()\\\">{{'CREATE.SAVE_ROUTE' | translate}}</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"","export default \"<h1 mat-dialog-title>{{'DELETE_OP.TITLE' | translate}}</h1>\\r\\n<div mat-dialog-content>\\r\\n    {{'DELETE_OP.MESSAGE' | translate}}\\r\\n</div>\\r\\n<mat-dialog-actions align=\\\"end\\\">\\r\\n    <button mat-button mat-dialog-close color='warn' (click)=\\\"delete();\\\">{{'DELETE_OP.YES' | translate}}</button>\\r\\n    <button mat-button (click) = 'cancel();'>{{'DELETE_OP.NO' | translate}}</button>\\r\\n</mat-dialog-actions>\\r\\n  \"","export default \"<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center center\\\" class=\\\"page-layout simple\\\">\\r\\n    <div #mydiv style=\\\"position: absolute; bottom: 20px; left: 20px; z-index: 999;\\\">\\r\\n        <button mat-raised-button color=\\\"accent\\\" class=\\\"m-8\\\" style=\\\"width: 100px;\\\" (click)=\\\"router.navigate(['routes/consult'])\\\">{{'CREATE.BACK' | translate}}</button>\\r\\n        <button [disabled]=\\\"loadedImages != totalImages\\\" mat-raised-button color=\\\"accent\\\" class=\\\"m-8\\\" style=\\\"width: 100px;\\\" (click)=\\\"export()\\\">{{'CREATE.EXPORT' | translate}}</button>\\r\\n    </div>\\r\\n    <div #container style=\\\"width: 90%; height: 90%; position: relative;\\\">\\r\\n        <canvas width=\\\"{{w}}\\\" height=\\\"{{h}}\\\" #mycanvas style=\\\"position: absolute; top: 0px; left: 0px\\\"></canvas>\\r\\n        <div *ngFor=\\\"let element of route?.tree\\\"\\r\\n            id=\\\"{{ 'element_' + element.element_id }}\\\"\\r\\n            fxLayout=\\\"column\\\"\\r\\n            fxLayoutAlign=\\\"center center\\\"\\r\\n            class=\\\"mat-card mb-12 element-card\\\"\\r\\n            [ngStyle]=\\\"getDivPosition(element)\\\"\\r\\n        >\\r\\n            <div fxFlex=\\\"100\\\" fxLayoutAlign=\\\"center center\\\" style=\\\"overflow: hidden; border-radius: 100%;\\\">\\r\\n                <img [ngStyle]=\\\"getHeight(element)\\\" src=\\\"{{getElementImage(element.element_id)}}\\\" onerror=\\\"this.src='assets/images/error.png';\\\">\\r\\n            </div>\\r\\n            <div style=\\\"width: 200%; text-align: center; font-size: 0.7em; position: absolute; bottom: -25px; height: 22px !important;\\\">\\r\\n                <span class=\\\"pt-4\\\"><b>{{getElementName(element.element_id)}}</b></span>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","export default \"<h1 mat-dialog-title>{{'RESET_OP.TITLE' | translate}}</h1>\\r\\n<div mat-dialog-content>\\r\\n    {{'RESET_OP.MESSAGE' | translate}}\\r\\n</div>\\r\\n<mat-dialog-actions align=\\\"end\\\">\\r\\n    <button mat-button mat-dialog-close color='warn' (click)=\\\"goViewRoutes();\\\">{{'RESET_OP.YES' | translate}}</button>\\r\\n    <button mat-button (click) = 'cancel();'>{{'RESET_OP.NO' | translate}}</button>\\r\\n</mat-dialog-actions>\\r\\n  \"","export default \"<div fxLayoutAlign=\\\"center start\\\">\\r\\n    <div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"start start\\\" class=\\\"mat-card m-20 p-16\\\"\\r\\n        style=\\\"border-radius: 10px !important; width: 400px; min-width: 300px; height: 240px;\\\">\\r\\n        <div fxLayout=\\\"row\\\" fxFlex=\\\"80\\\" style=\\\"width: 100%;\\\">\\r\\n            <div fxFlexOffset=\\\"5\\\" fxFlex=\\\"28\\\" fxLayoutAlign=\\\"center center\\\">\\r\\n                <img *ngIf=\\\"img\\\" src=\\\"{{url}}?{{getTimestamp()}}\\\" onerror=\\\"this.src='assets/images/error.png';\\\" matTooltip=\\\"{{route.name}}\\\">\\r\\n                <img *ngIf=\\\"!img\\\" style=\\\"border-radius: 100%; border: 1px solid lightgray\\\" src=\\\"{{url}}\\\" matTooltip=\\\"{{route.name}}\\\">\\r\\n            </div>\\r\\n            <div fxFlex=\\\"67\\\" fxLayoutAlign=\\\"center center\\\">\\r\\n                <span style=\\\"text-align: center; font-size: 1.1em\\\">{{getEllipsis(route.name)}}</span>\\r\\n            </div>\\r\\n        </div>\\r\\n    \\r\\n        <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center center\\\" fxFlex=\\\"15\\\" fxFlexOffset=\\\"5\\\" style=\\\"width: 100%; height: 50px;\\\">\\r\\n            <div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\" class=\\\"button-div left\\\" (click)=\\\"view.emit(route.id);\\\">\\r\\n                {{ \\\"ROUTE.VIEW\\\" | translate }}\\r\\n            </div>\\r\\n            <div style=\\\"width: 0.5%; height: 100%; background-color: #bbb\\\"></div>\\r\\n            <div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\" class=\\\"button-div\\\" (click)=\\\"edit.emit(route.id);\\\">\\r\\n                {{ \\\"ROUTE.EDIT\\\" | translate }}\\r\\n            </div>\\r\\n            <div style=\\\"width: 0.5%; height: 100%; background-color: #bbb\\\"></div>\\r\\n            <div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\" class=\\\"button-div right\\\" (click)=\\\"delete.emit(route.id);\\\">\\r\\n                {{ \\\"ROUTE.DELETE\\\" | translate }}\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","export default \"<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"end start\\\" class=\\\"page-layout simple\\\">\\r\\n    <div fxLayout=\\\"row wrap\\\" fxLayoutAlign=\\\"center\\\" class=\\\"m-28\\\" style=\\\"width: 100%\\\">\\r\\n        <div *ngFor=\\\"let route of routes\\\" fxFlex.sm=\\\"100\\\" fxFlex.md=\\\"50\\\" fxFlex.gt-md=\\\"33\\\">\\r\\n            <route [route]=\\\"route\\\" (delete)=\\\"deleteRoute($event)\\\" (view)=\\\"viewRoute($event);\\\" (edit)=\\\"editRoute($event);\\\"></route>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\\\"routes.length === 0 && !loading\\\" class=\\\"mt-20\\\">\\r\\n            <span style=\\\"font-size: 1.75em\\\"><b>{{ 'ROUTE.NO_ROUTES' | translate }}</b></span>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","export default \"#dialog {\\n  height: 100%;\\n  width: 100%;\\n  overflow-y: visible; }\\n\\n.img:hover {\\n  -webkit-filter: brightness(0.9);\\n          filter: brightness(0.9);\\n  cursor: pointer !important; }\\n\\n.placeholder {\\n  border: 2px solid lightgray;\\n  border-radius: 100%; }\\n\\n.btn {\\n  width: 90px;\\n  height: 40px; }\\n\\n.example-box {\\n  padding: 15px 10px;\\n  border-bottom: solid 1px #ccc;\\n  color: rgba(0, 0, 0, 0.87);\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: flex-start;\\n  box-sizing: border-box;\\n  background: white;\\n  width: 95%; }\\n\\n.cdk-drag-preview {\\n  box-sizing: border-box;\\n  border-radius: 4px;\\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12); }\\n\\n.cdk-drag-placeholder {\\n  opacity: 0; }\\n\\n.cdk-drag-animating {\\n  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1); }\\n\\n.example-box:last-child {\\n  border: none; }\\n\\n.example-list.cdk-drop-list-dragging .example-box:not(.cdk-drag-placeholder) {\\n  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1); }\\n\\n.error-msg {\\n  font-size: 0.9em;\\n  align-self: flex-start;\\n  color: red;\\n  text-decoration: underline; }\\n\\n.mat-chip-list-wrapper {\\n  max-height: 80px;\\n  overflow-y: scroll;\\n  overflow-x: hidden; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9nb3NvcmlvL3NyYy9qcy9hY3JlZGl0dGEvYXBwLnJ1dGFzLXdlYi9zcmMvYXBwL21haW4vcm91dGVzL2NyZWF0ZS9jcmVhdGUtcm91dGUtZGlhbG9nL2NyZWF0ZS1yb3V0ZS1kaWFsb2cuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFZO0VBQ1osV0FBVztFQUNYLG1CQUFtQixFQUFBOztBQUd2QjtFQUNJLCtCQUF1QjtVQUF2Qix1QkFBdUI7RUFDdkIsMEJBQTBCLEVBQUE7O0FBRzlCO0VBQ0ksMkJBQTJCO0VBQzNCLG1CQUFtQixFQUFBOztBQUd2QjtFQUNJLFdBQVc7RUFDWCxZQUFZLEVBQUE7O0FBR2hCO0VBQ0ksa0JBQWtCO0VBQ2xCLDZCQUE2QjtFQUM3QiwwQkFBMEI7RUFDMUIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixtQkFBbUI7RUFDbkIsMkJBQTJCO0VBQzNCLHNCQUFzQjtFQUN0QixpQkFBaUI7RUFDakIsVUFBVSxFQUFBOztBQUdkO0VBQ0ksc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixxSEFFc0MsRUFBQTs7QUFHMUM7RUFDSSxVQUFVLEVBQUE7O0FBR2Q7RUFDSSxzREFBc0QsRUFBQTs7QUFHMUQ7RUFDSSxZQUFZLEVBQUE7O0FBR2hCO0VBQ0ksc0RBQXNELEVBQUE7O0FBRzFEO0VBQ0ksZ0JBQWdCO0VBQ2hCLHNCQUFzQjtFQUN0QixVQUFVO0VBQ1YsMEJBQTBCLEVBQUE7O0FBSTlCO0VBQ0ksZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixrQkFBa0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21haW4vcm91dGVzL2NyZWF0ZS9jcmVhdGUtcm91dGUtZGlhbG9nL2NyZWF0ZS1yb3V0ZS1kaWFsb2cuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjZGlhbG9nIHtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgb3ZlcmZsb3cteTogdmlzaWJsZTtcclxufVxyXG5cclxuLmltZzpob3ZlciB7XHJcbiAgICBmaWx0ZXI6IGJyaWdodG5lc3MoMC45KTtcclxuICAgIGN1cnNvcjogcG9pbnRlciAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ucGxhY2Vob2xkZXIge1xyXG4gICAgYm9yZGVyOiAycHggc29saWQgbGlnaHRncmF5O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTAwJTtcclxufVxyXG5cclxuLmJ0biB7XHJcbiAgICB3aWR0aDogOTBweDtcclxuICAgIGhlaWdodDogNDBweDtcclxufVxyXG5cclxuLmV4YW1wbGUtYm94IHtcclxuICAgIHBhZGRpbmc6IDE1cHggMTBweDtcclxuICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCAjY2NjO1xyXG4gICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44Nyk7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICB3aWR0aDogOTUlO1xyXG59XHJcblxyXG4uY2RrLWRyYWctcHJldmlldyB7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCA1cHggNXB4IC0zcHggcmdiYSgwLCAwLCAwLCAwLjIpLFxyXG4gICAgICAgIDAgOHB4IDEwcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4xNCksXHJcbiAgICAgICAgMCAzcHggMTRweCAycHggcmdiYSgwLCAwLCAwLCAwLjEyKTtcclxufVxyXG5cclxuLmNkay1kcmFnLXBsYWNlaG9sZGVyIHtcclxuICAgIG9wYWNpdHk6IDA7XHJcbn1cclxuXHJcbi5jZGstZHJhZy1hbmltYXRpbmcge1xyXG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDI1MG1zIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpO1xyXG59XHJcblxyXG4uZXhhbXBsZS1ib3g6bGFzdC1jaGlsZCB7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbn1cclxuXHJcbi5leGFtcGxlLWxpc3QuY2RrLWRyb3AtbGlzdC1kcmFnZ2luZyAuZXhhbXBsZS1ib3g6bm90KC5jZGstZHJhZy1wbGFjZWhvbGRlcikge1xyXG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDI1MG1zIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpO1xyXG59XHJcblxyXG4uZXJyb3ItbXNnIHtcclxuICAgIGZvbnQtc2l6ZTogMC45ZW07XHJcbiAgICBhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0O1xyXG4gICAgY29sb3I6IHJlZDtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG4gICAgXHJcbn1cclxuXHJcbi5tYXQtY2hpcC1saXN0LXdyYXBwZXIge1xyXG4gICAgbWF4LWhlaWdodDogODBweDtcclxuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcclxuICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcclxufSJdfQ== */\"","import { OnInit, Component, Input, Inject, ViewEncapsulation, ViewChild } from \"@angular/core\";\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material/dialog\";\r\nimport { Router } from \"@angular/router\";\r\nimport { MatSnackBar, MatSnackBarVerticalPosition, MatSnackBarHorizontalPosition } from \"@angular/material/snack-bar\";\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\nimport { RoutesService } from \"../../routes.service\";\r\nimport { MatChipInputEvent } from \"@angular/material/chips\";\r\nimport { COMMA, ENTER, SEMICOLON } from '@angular/cdk/keycodes';\r\n\r\n@Component({\r\n  selector: 'create-route-dialog',\r\n  templateUrl: './create-route-dialog.component.html',\r\n  styleUrls: ['./create-route-dialog.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class CreateRouteDialogComponent implements OnInit {\r\n  \r\n  @Input('route') route;\r\n  @ViewChild('file', { static: false }) file: any;\r\n  \r\n  form: FormGroup;\r\n  defaultImg = 'assets/images/placeholder.png';\r\n  image;\r\n  imagePath;\r\n  error: boolean;\r\n  \r\n  public xpos: MatSnackBarHorizontalPosition = 'center';\r\n  public ypos: MatSnackBarVerticalPosition = 'top';\r\n  \r\n  readonly separatorKeysCodes: number[] = [ENTER, COMMA, SEMICOLON];\r\n  elementList = [];\r\n  difficulties = [];\r\n  materiality = [];\r\n  languages = [{ value: 'es', name: null }, { value: 'en', name: null }, { value: 'pt', name: null },\r\n      { value: 'fr', name: null }, { value: 'other', name: null }]\r\n\r\n    skills = [];\r\n    tags = [];\r\n  \r\n  constructor(\r\n    public dialogRef: MatDialogRef<any>,\r\n    private router: Router,\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    private snackbar: MatSnackBar,\r\n    private translate: TranslateService,\r\n    private formBuilder: FormBuilder,\r\n    private routesService: RoutesService\r\n  ) {}\r\n    \r\n  ngOnInit() {\r\n    this.languages.forEach(lang => lang.name = this.translate.instant('LANGUAGES.'.concat(lang.value)));\r\n    this.getData();\r\n  }\r\n\r\n  add(event: MatChipInputEvent, name: string): void {\r\n    const input = event.input;\r\n    const value = event.value;\r\n    \r\n    if ((value || '').trim()) {\r\n      switch(name) {\r\n        case 'tags':\r\n          this.tags.push(value.trim());\r\n          break;\r\n  \r\n        case 'skills':\r\n          this.skills.push(value.trim());\r\n          break;\r\n      }\r\n    }\r\n\r\n    if (input) {\r\n      input.value = '';\r\n    }\r\n}\r\n\r\nremove(skill, name: string): void {\r\n  let index;\r\n\r\n  switch(name) {\r\n    case 'tags':\r\n      index = this.tags.indexOf(skill);\r\n\r\n      if (index >= 0) {\r\n        this.tags.splice(index, 1);\r\n      }\r\n      break;\r\n\r\n    case 'skills':\r\n      index = this.skills.indexOf(skill);\r\n\r\n      if (index >= 0) {\r\n        this.skills.splice(index, 1);\r\n      }\r\n      break;\r\n  }\r\n    \r\n}\r\n  \r\n  getData() {\r\n    this.elementList = this.data.elements.reverse();\r\n    this.difficulties = this.data.difficulties;\r\n    this.materiality = this.data.materiality;\r\n    if(this.data.route) {\r\n      const r = this.data.route;\r\n      this.form = this.formBuilder.group({\r\n        name: [r.name, [Validators.required, Validators.minLength(5)]],\r\n        description: [r.description, Validators.maxLength(140)],\r\n        difficulty: [r.difficulty, Validators.required],\r\n        score: [r.score, [Validators.pattern('^[0-9]+$'), Validators.required]],\r\n        skills: [''],\r\n        tags: [''],\r\n        criterion: [r.criterion],\r\n        materiality: [r.materiality, Validators.required],\r\n        expire_at: [r.expire_at],      \r\n        language: [r.language, Validators.required],\r\n      })\r\n      this.skills = r.skills.trim().length > 0 ? r.skills.split(';') : [];\r\n      this.tags = r.tags.trim().length > 0 ? r.tags.split(';') : [];\r\n    } else {\r\n      this.form = this.formBuilder.group({\r\n        name: ['', [Validators.required, Validators.minLength(5)]],\r\n        description: ['', Validators.maxLength(140)],\r\n        difficulty: ['', Validators.required],\r\n        score: [0, [Validators.pattern('^[0-9]+$'), Validators.required]],\r\n        skills: [''],\r\n        tags: [''],\r\n        criterion: [''],\r\n        materiality: ['', Validators.required],\r\n        expire_at: [null],      \r\n        language: ['', Validators.required],\r\n      })\r\n    }\r\n\r\n    if(this.data.image) {\r\n      this.routesService.getRouteImage(this.data.route.id).subscribe(res => {\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(res);\r\n        reader.onload = (event) => {\r\n          this.image = reader.result;\r\n        }\r\n      })\r\n    }\r\n  }\r\n  \r\n  preview(files) {\r\n    if (files.length !== 1) return;\r\n    \r\n    if (files[0].type !== 'image/png') {\r\n      this.snackbar.open(this.translate.instant('ERROR.IMAGE_TYPE_ERROR'), 'ERROR', {\r\n        horizontalPosition: this.xpos,\r\n        verticalPosition: this.ypos,\r\n        duration: 5000,\r\n        panelClass: 'red',\r\n      });\r\n      return;\r\n    }\r\n    \r\n    if (files[0].size > 2097152) {\r\n      this.snackbar.open(this.translate.instant('ERROR.MAX_FILE_SIZE'), 'ERROR', {\r\n        horizontalPosition: this.xpos,\r\n        verticalPosition: this.ypos,\r\n        duration: 5000,\r\n        panelClass: 'red',\r\n      });\r\n      return;\r\n    }\r\n    \r\n    var reader = new FileReader();\r\n    this.imagePath = files;\r\n    reader.readAsDataURL(files[0]);\r\n    reader.onload = (_event) => {\r\n      this.image = reader.result;\r\n    }\r\n  }\r\n  \r\n  removeImage() {\r\n    this.file.nativeElement.value = '';\r\n    this.image = null;\r\n  }\r\n  \r\n  save() {\r\n    let file: any = null;\r\n    if(this.image && this.file.nativeElement.files[0]) {\r\n      file = new FormData();\r\n      file.append('archivo', this.file.nativeElement.files[0]);\r\n    }\r\n\r\n    this.form.patchValue({\r\n      skills: this.skills.join(';'),\r\n      tags: this.tags.join(';')\r\n    })\r\n    this.dialogRef.close({\r\n      formdata: file,\r\n      form: this.form.value\r\n    });\r\n  }\r\n}\r\n","export default \".element-container {\\n  max-height: 84vh !important;\\n  height: 84vh !important;\\n  user-select: none;\\n  -moz-user-select: none;\\n  -webkit-user-select: none;\\n  -ms-user-select: none; }\\n\\n.h-50 {\\n  min-height: 50px !important; }\\n\\n.action-icon {\\n  width: 35px;\\n  height: 35px;\\n  font-size: 35px;\\n  cursor: pointer;\\n  border-radius: 3px;\\n  background-color: #fff; }\\n\\n.pushed {\\n  box-shadow: 0 0 1px 1.8px #bbb; }\\n\\n.element-card {\\n  width: 100px;\\n  margin-left: auto;\\n  margin-right: auto;\\n  border-radius: 100%;\\n  cursor: pointer; }\\n\\n.element-card.cdk-drag-disabled {\\n  cursor: default !important;\\n  -webkit-filter: brightness(0.9);\\n          filter: brightness(0.9); }\\n\\n.element-card:hover {\\n  -webkit-filter: brightness(0.9);\\n          filter: brightness(0.9); }\\n\\n.element-card:hover .tooltip {\\n    display: block;\\n    -webkit-animation: fadein 0.3s;\\n            animation: fadein 0.3s; }\\n\\n.element-card:hover .hideable-text {\\n    display: none; }\\n\\n.terminal {\\n  border-radius: 100%;\\n  width: 18px;\\n  height: 18px;\\n  position: absolute;\\n  background-color: #000;\\n  opacity: 0.25;\\n  cursor: pointer;\\n  display: block !important;\\n  z-index: 99;\\n  user-select: none;\\n  -moz-user-select: none;\\n  -webkit-user-select: none;\\n  -ms-user-select: none; }\\n\\n.example-list {\\n  width: 100%;\\n  display: block !important;\\n  overflow-y: scroll;\\n  overflow-x: hidden; }\\n\\n.add-icon {\\n  position: absolute;\\n  top: 8px;\\n  right: 10px;\\n  height: 35px;\\n  width: 35px;\\n  font-size: 35px;\\n  cursor: pointer; }\\n\\n.canvas-container {\\n  max-width: 80% !important;\\n  width: 80% !important;\\n  height: 100% !important;\\n  max-height: calc(100vh - 64px); }\\n\\n.tooltip {\\n  width: 200%;\\n  text-align: center;\\n  font-size: 0.72em;\\n  position: absolute;\\n  bottom: -25px;\\n  display: none;\\n  background-color: rgba(20, 20, 20, 0.6);\\n  padding: 8px;\\n  color: white;\\n  border-radius: 5px;\\n  -webkit-animation: fadeout 0.25s;\\n          animation: fadeout 0.25s; }\\n\\n.element-menu {\\n  width: 280px;\\n  position: absolute;\\n  top: -20px;\\n  left: 105px;\\n  background-color: white;\\n  border-radius: 8px;\\n  text-align: center; }\\n\\n.element-menu p {\\n    font-size: 12px;\\n    cursor: default; }\\n\\n.element-menu div {\\n    padding: 10px;\\n    background-color: white;\\n    border-bottom-left-radius: 8px;\\n    border-bottom-right-radius: 8px; }\\n\\n.element-menu div:hover {\\n    -webkit-filter: brightness(0.85) !important;\\n            filter: brightness(0.85) !important;\\n    cursor: pointer; }\\n\\n.mat-simple-snackbar-action {\\n  color: #333 !important; }\\n\\n@-webkit-keyframes fadein {\\n  from {\\n    opacity: 0; }\\n  to {\\n    opacity: 1; } }\\n\\n@keyframes fadein {\\n  from {\\n    opacity: 0; }\\n  to {\\n    opacity: 1; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9nb3NvcmlvL3NyYy9qcy9hY3JlZGl0dGEvYXBwLnJ1dGFzLXdlYi9zcmMvYXBwL21haW4vcm91dGVzL2NyZWF0ZS9jcmVhdGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSwyQkFBMkI7RUFDM0IsdUJBQXVCO0VBQ3ZCLGlCQUFpQjtFQUNqQixzQkFBc0I7RUFDdEIseUJBQXlCO0VBQ3pCLHFCQUFxQixFQUFBOztBQUd6QjtFQUNJLDJCQUEyQixFQUFBOztBQUcvQjtFQUNJLFdBQVc7RUFDWCxZQUFZO0VBQ1osZUFBZTtFQUNmLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsc0JBQXNCLEVBQUE7O0FBRzFCO0VBQ0ksOEJBQThCLEVBQUE7O0FBR2xDO0VBQ0ksWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGVBQWUsRUFBQTs7QUFHbkI7RUFDSSwwQkFBMEI7RUFDMUIsK0JBQXVCO1VBQXZCLHVCQUF1QixFQUFBOztBQUczQjtFQUNJLCtCQUF1QjtVQUF2Qix1QkFBdUIsRUFBQTs7QUFEM0I7SUFJUSxjQUFjO0lBQ2QsOEJBQXNCO1lBQXRCLHNCQUFzQixFQUFBOztBQUw5QjtJQVNRLGFBQWEsRUFBQTs7QUFJckI7RUFDSSxtQkFBbUI7RUFDbkIsV0FBVztFQUNYLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsc0JBQXNCO0VBQ3RCLGFBQWE7RUFDYixlQUFlO0VBQ2YseUJBQXlCO0VBQ3pCLFdBQVc7RUFDWCxpQkFBaUI7RUFDakIsc0JBQXNCO0VBQ3RCLHlCQUF5QjtFQUN6QixxQkFBcUIsRUFBQTs7QUFHekI7RUFDSSxXQUFXO0VBQ1gseUJBQXlCO0VBQ3pCLGtCQUFrQjtFQUNsQixrQkFBa0IsRUFBQTs7QUFHdEI7RUFDSSxrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLFdBQVc7RUFDWCxZQUFZO0VBQ1osV0FBVztFQUNYLGVBQWU7RUFDZixlQUFlLEVBQUE7O0FBR25CO0VBQ0kseUJBQXlCO0VBQ3pCLHFCQUFxQjtFQUNyQix1QkFBdUI7RUFDdkIsOEJBQThCLEVBQUE7O0FBR2xDO0VBQ0ksV0FBVztFQUNYLGtCQUFrQjtFQUNsQixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixhQUFhO0VBQ2IsdUNBQXVDO0VBQ3ZDLFlBQVk7RUFDWixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGdDQUF3QjtVQUF4Qix3QkFBd0IsRUFBQTs7QUFHNUI7RUFDSSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixXQUFXO0VBQ1gsdUJBQXVCO0VBQ3ZCLGtCQUFrQjtFQUNsQixrQkFBa0IsRUFBQTs7QUFQdEI7SUFVUSxlQUFlO0lBQ2YsZUFBZSxFQUFBOztBQVh2QjtJQWVRLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsOEJBQThCO0lBQzlCLCtCQUErQixFQUFBOztBQWxCdkM7SUFzQlEsMkNBQW1DO1lBQW5DLG1DQUFtQztJQUNuQyxlQUFlLEVBQUE7O0FBSXZCO0VBQ0ksc0JBQXNCLEVBQUE7O0FBRzFCO0VBQ0k7SUFBTyxVQUFVLEVBQUE7RUFDakI7SUFBTyxVQUFVLEVBQUEsRUFBQTs7QUFGckI7RUFDSTtJQUFPLFVBQVUsRUFBQTtFQUNqQjtJQUFPLFVBQVUsRUFBQSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9yb3V0ZXMvY3JlYXRlL2NyZWF0ZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5lbGVtZW50LWNvbnRhaW5lciB7XHJcbiAgICBtYXgtaGVpZ2h0OiA4NHZoICFpbXBvcnRhbnQ7XHJcbiAgICBoZWlnaHQ6IDg0dmggIWltcG9ydGFudDtcclxuICAgIHVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XHJcbn1cclxuXHJcbi5oLTUwIHtcclxuICAgIG1pbi1oZWlnaHQ6IDUwcHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLmFjdGlvbi1pY29uIHtcclxuICAgIHdpZHRoOiAzNXB4O1xyXG4gICAgaGVpZ2h0OiAzNXB4O1xyXG4gICAgZm9udC1zaXplOiAzNXB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxufVxyXG5cclxuLnB1c2hlZCB7XHJcbiAgICBib3gtc2hhZG93OiAwIDAgMXB4IDEuOHB4ICNiYmI7XHJcbn1cclxuXHJcbi5lbGVtZW50LWNhcmQge1xyXG4gICAgd2lkdGg6IDEwMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uZWxlbWVudC1jYXJkLmNkay1kcmFnLWRpc2FibGVkIHtcclxuICAgIGN1cnNvcjogZGVmYXVsdCAhaW1wb3J0YW50O1xyXG4gICAgZmlsdGVyOiBicmlnaHRuZXNzKDAuOSk7XHJcbiAgfVxyXG5cclxuLmVsZW1lbnQtY2FyZDpob3ZlciB7XHJcbiAgICBmaWx0ZXI6IGJyaWdodG5lc3MoMC45KTtcclxuXHJcbiAgICAudG9vbHRpcCB7XHJcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBmYWRlaW4gMC4zcztcclxuICAgIH1cclxuXHJcbiAgICAuaGlkZWFibGUtdGV4dCB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgIH1cclxufVxyXG5cclxuLnRlcm1pbmFsIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XHJcbiAgICB3aWR0aDogMThweDtcclxuICAgIGhlaWdodDogMThweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XHJcbiAgICBvcGFjaXR5OiAwLjI1O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcclxuICAgIHotaW5kZXg6IDk5O1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcclxufVxyXG5cclxuLmV4YW1wbGUtbGlzdCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XHJcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XHJcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbn1cclxuXHJcbi5hZGQtaWNvbiB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDhweDtcclxuICAgIHJpZ2h0OiAxMHB4O1xyXG4gICAgaGVpZ2h0OiAzNXB4O1xyXG4gICAgd2lkdGg6IDM1cHg7XHJcbiAgICBmb250LXNpemU6IDM1cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5jYW52YXMtY29udGFpbmVyIHtcclxuICAgIG1heC13aWR0aDogODAlICFpbXBvcnRhbnQ7XHJcbiAgICB3aWR0aDogODAlICFpbXBvcnRhbnQ7XHJcbiAgICBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDtcclxuICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSA2NHB4KTtcclxufVxyXG5cclxuLnRvb2x0aXAge1xyXG4gICAgd2lkdGg6IDIwMCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDAuNzJlbTtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGJvdHRvbTogLTI1cHg7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMCwgMjAsIDIwLCAwLjYpO1xyXG4gICAgcGFkZGluZzogOHB4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgYW5pbWF0aW9uOiBmYWRlb3V0IDAuMjVzO1xyXG59XHJcblxyXG4uZWxlbWVudC1tZW51IHtcclxuICAgIHdpZHRoOiAyODBweDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogLTIwcHg7XHJcbiAgICBsZWZ0OiAxMDVweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG5cclxuICAgIHAge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICBjdXJzb3I6IGRlZmF1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZGl2IHtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDhweDtcclxuICAgICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogOHB4O1xyXG4gICAgfVxyXG5cclxuICAgIGRpdjpob3ZlciB7XHJcbiAgICAgICAgZmlsdGVyOiBicmlnaHRuZXNzKDAuODUpICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgfVxyXG59XHJcblxyXG4ubWF0LXNpbXBsZS1zbmFja2Jhci1hY3Rpb24ge1xyXG4gICAgY29sb3I6ICMzMzMgIWltcG9ydGFudDtcclxufVxyXG5cclxuQGtleWZyYW1lcyBmYWRlaW4ge1xyXG4gICAgZnJvbSB7IG9wYWNpdHk6IDA7IH1cclxuICAgIHRvICAgeyBvcGFjaXR5OiAxOyB9XHJcbn0iXX0= */\"","import { Component, OnInit, Inject, ViewChild, ViewChildren, QueryList, ChangeDetectorRef, OnDestroy, HostListener } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FuseConfigService } from '@fuse/services/config.service';\r\nimport { RoutesService } from '../routes.service';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA, MatDialog } from '@angular/material/dialog';\r\nimport { FuseTranslationLoaderService } from '@fuse/services/translation-loader.service';\r\n\r\nimport { locale as spanish } from '../i18n/es';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { CreateRouteDialogComponent } from './create-route-dialog/create-route-dialog.component';\r\nimport { MatSnackBar, MatSnackBarVerticalPosition, MatSnackBarHorizontalPosition } from '@angular/material/snack-bar';\r\nimport { FuseProgressBarService } from '@fuse/components/progress-bar/progress-bar.service';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'create',\r\n  templateUrl: './create.component.html',\r\n  styleUrls: ['./create.component.scss']\r\n})\r\n\r\nexport class CreateComponent implements OnInit, OnDestroy {\r\n  @HostListener('document:keydown.escape', ['$event']) onKeydownHandler(event: KeyboardEvent) {\r\n    this.showMenu = -1;\r\n    if(this.tempEl.start) {\r\n      this.cancelDragging(event);\r\n    } else {\r\n      this.cancelEdit();\r\n      this.cancelDelete();\r\n    }\r\n    \r\n  }\r\n\r\n  @ViewChild('mycanvas', { static: true }) canvas;\r\n  @ViewChild('canvascontainer', { static: true }) canvas_container;\r\n  @ViewChild('root', { static: true }) rootEl;\r\n  @ViewChild('container', { static: true }) container;\r\n  @ViewChildren('container')\r\n  public divs: QueryList<any>;\r\n\r\n  dragging: boolean = false;\r\n  draggingArrow: boolean = false;\r\n  start: boolean = false;\r\n  end: boolean = false;\r\n  delete: boolean = false;\r\n  action: string = '';\r\n  loading = true;\r\n  dragCount: number = 0;\r\n  actualCount: number;\r\n  showMenu: number;\r\n  \r\n  private readonly initialPos = { x: 0, y: 0 }\r\n  resetPosition = {};\r\n  readonly size = 50;\r\n  offset;\r\n  events: any;\r\n  tempEl: any = {};\r\n  rootName;\r\n  root;\r\n  ctx;\r\n  W;\r\n  H;\r\n  Xi;\r\n  Yi;\r\n  mouseX;\r\n  mouseY;\r\n  rootX;\r\n  rootY;\r\n\r\n  arrowElements = [];\r\n  elements = [];\r\n  _elements = [];\r\n  elementList = [];\r\n  elementRefs = [];\r\n  routes = [];\r\n  difficulties = [];\r\n  materialities = [];\r\n  levels = [];\r\n  route;\r\n\r\n  searchForm: FormGroup;\r\n  xPos: MatSnackBarHorizontalPosition = 'center';\r\n  yPos: MatSnackBarVerticalPosition = 'top';\r\n\r\n  constructor(\r\n      private _fuseTranslationLoaderService: FuseTranslationLoaderService,\r\n      private fuseProgressBarService: FuseProgressBarService,\r\n      private router: Router,\r\n      private fuseConfigService: FuseConfigService,\r\n      private routesService: RoutesService,\r\n      private formBuilder: FormBuilder,\r\n      private translateService: TranslateService,\r\n      private changesDetector: ChangeDetectorRef,\r\n      private dialog: MatDialog,\r\n      private snack: MatSnackBar,\r\n      private activatedRoute: ActivatedRoute\r\n    ) {\r\n    this.fuseConfigService.config = {\r\n      layout: {\r\n        navbar: {\r\n          hidden: false\r\n        },\r\n        toolbar: {\r\n          hidden: false\r\n        }\r\n      }\r\n    }\r\n    \r\n    this._fuseTranslationLoaderService.loadTranslations(spanish);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.ctx = this.canvas.nativeElement.getContext(\"2d\");\r\n    this.fuseProgressBarService.show();\r\n\r\n    this.activatedRoute.paramMap.subscribe((res: any) => {\r\n      if(res.params.routeId) {\r\n        this.action = 'edit';\r\n        this.getRoute(res.params.routeId);\r\n      } else {\r\n        this.action = 'create';\r\n        if(!this.route) {\r\n          this.routesService.routeName = this.translateService.instant('CREATE.NEW_ROUTE');\r\n        }\r\n      }\r\n    });\r\n\r\n    this.searchForm = this.formBuilder.group({\r\n      search: ['']\r\n    });\r\n\r\n    this.searchChanged();\r\n\r\n    this.getDifficulties();\r\n    this.getElements();\r\n    this.getMateriality();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.canvas.nativeElement.width = this.canvas_container.nativeElement.offsetWidth;\r\n    this.canvas.nativeElement.height = this.canvas_container.nativeElement.offsetHeight;\r\n\r\n    this.events = this.divs.changes.subscribe(val => {\r\n      const data = val.first.nativeElement.children;\r\n      let index = 0;\r\n      \r\n      for(let element of data) {\r\n        if(element.id === 'empty') continue;\r\n        let id = this.elements[index++].id;\r\n        this.elementRefs.push({ div_id: element.id , el_id: id })\r\n        this.resetPosition[id] = this.initialPos;\r\n      }\r\n\r\n      this.W = this.canvas.nativeElement.clientWidth;\r\n      this.H = this.canvas.nativeElement.clientHeight;\r\n\r\n      this.activatedRoute.paramMap.subscribe((res: any) => {\r\n        if(res.params.routeId) {\r\n          const interval = setInterval(() => {\r\n            if(this.route && this.elementList) {\r\n              clearInterval(interval);\r\n              this.initRoutes(this.route.tree);\r\n              this.assignCoordinates();\r\n              this.redraw();\r\n              this.fuseProgressBarService.hide();\r\n            }\r\n          }, 100);\r\n        } else this.fuseProgressBarService.hide();\r\n      });\r\n\r\n      this.events.unsubscribe();\r\n    });\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    this.canvas.nativeElement.width = this.canvas_container.nativeElement.offsetWidth;\r\n    this.canvas.nativeElement.height = this.canvas_container.nativeElement.offsetHeight;\r\n\r\n    this.rootX = this.rootEl.nativeElement.offsetWidth;\r\n    this.rootY = this.rootEl.nativeElement.offsetHeight;\r\n    \r\n    if(!this.dragging) {\r\n      for(let i = this.elementList.length - 1; i >= 0; i--) {\r\n        let el = this.elementRefs.find(__el => __el.el_id == this.elementList[i].id);\r\n        let distance = this.getTranslate3DValues(this.elementList[i].id)[0];\r\n  \r\n        if(this.divs.first.nativeElement.children[el.div_id].offsetLeft + distance + this.size > this.canvas_container.nativeElement.offsetWidth) {\r\n          this.deleteElement(el);\r\n        }\r\n      }\r\n    }\r\n    \r\n    this.changesDetector.detectChanges();\r\n    this.redraw();\r\n  }\r\n\r\n  ngDoCheck() {\r\n    this.offset = this.container.nativeElement.scrollTop;\r\n  }\r\n\r\n  getDifficulties() {\r\n    this.routesService.getDifficulty().subscribe(res => {\r\n      res.forEach(d => this.difficulties.push({ value: d.descripcion, name: this.translateService.instant('DIFFICULTY.'.concat(d.descripcion)) }))\r\n    });\r\n  }\r\n\r\n  getRoute(id) {\r\n    this.routesService.getRoute(id).subscribe(res => {\r\n      this.route = res;\r\n      this.routesService.routeName = res.name;\r\n    });\r\n  }\r\n\r\n  getElements() {\r\n    this.routesService.getElementList().subscribe(res => {\r\n      for(let element of res) {\r\n        if(!element.image_url.includes('http')) {\r\n          this.routesService.getElementImage(element.id).subscribe(res => {\r\n            var reader = new FileReader();\r\n            reader.readAsDataURL(res);\r\n            reader.onload = (event) => {\r\n              element.image_url = reader.result;\r\n            }\r\n          });\r\n        }\r\n      }\r\n      \r\n      this.loading = false;\r\n      this.elements = res;\r\n      this._elements = this.elements;\r\n      this.fuseProgressBarService.hide();\r\n    })\r\n  }\r\n\r\n  getMateriality() {\r\n    this.routesService.getMateriality().subscribe(res => {\r\n      res.forEach(el => this.materialities\r\n        .push({ value: el.descripcion, name: this.translateService.instant('MATERIALITY.'.concat(el.descripcion)) }))\r\n    })\r\n  }\r\n\r\n  resetRoutes() {\r\n    if(this.root) {\r\n      const dialog = this.dialog.open(ResetDialogComponent, {\r\n        data: {}\r\n      });\r\n  \r\n      dialog.afterClosed().subscribe(res => {\r\n        if(typeof res !== 'undefined') this.doReset();\r\n      })\r\n    } else this.doReset();\r\n  }\r\n\r\n  doReset() {\r\n    for(let element of this.elementRefs) {\r\n      this.deleteElement(element);\r\n    }\r\n    this.cancelEdit();\r\n  }\r\n\r\n  startDragging(e) {\r\n    this.actualCount++;\r\n    this.dragging = true;\r\n    this.showMenu = -1;\r\n    let el = this.elementRefs.find(element => element.div_id === e.source.element.nativeElement.id);\r\n\r\n    if(!e.source.element.nativeElement.selected) {\r\n      e.source.element.nativeElement.style.left = e.source.element.nativeElement.offsetLeft + 'px';\r\n      \r\n      if (this.offset > 0) {\r\n        e.source.element.nativeElement.style.top = e.source.element.nativeElement.offsetTop - this.offset + 'px';\r\n      } else {\r\n        e.source.element.nativeElement.style.top = e.source.element.nativeElement.offsetTop + 'px';\r\n      }\r\n    } else {\r\n      e.source.element.nativeElement.style.left = e.source.element.nativeElement.offsetLeft + 'px';\r\n      e.source.element.nativeElement.style.top = e.source.element.nativeElement.offsetTop + 'px';\r\n    }\r\n\r\n    if(!e.source.element.nativeElement.selected) {\r\n      this.autoConnect(el);\r\n    }\r\n    \r\n    e.source.element.nativeElement.style.position = 'absolute';\r\n    e.source.element.nativeElement.style.cursor = 'move';\r\n    e.source.element.nativeElement.selectable = false;\r\n    e.source.element.nativeElement.selected = true;\r\n  }\r\n\r\n  movedDragging(e) {\r\n    this.redraw();\r\n  }\r\n\r\n  endDragging(e) {\r\n    let el = this.elementRefs.find(element => element.div_id === e.source.element.nativeElement.id);\r\n    let transformed = this.getTranslate3DValues(el.el_id);\r\n    let deleted = false;\r\n\r\n    if(e.source.element.nativeElement.offsetLeft + transformed[0] + this.size > this.canvas_container.nativeElement.offsetWidth) {\r\n      deleted = true;\r\n      this.deleteElement(el);\r\n    } else {\r\n      if(!this.elementList.find(_el => _el.id == el.el_id)) {\r\n        this.elementList.push(this.elements.find(_el => _el.id === el.el_id));\r\n      }\r\n\r\n      if(!this.root) {\r\n        this.root = el.el_id;\r\n        this.rootName = this.elements.find(element => el.el_id == element.id).name;\r\n      }\r\n    }\r\n\r\n    if(!deleted) {\r\n      let offset = this.root == el.el_id ? 100 : 0;\r\n      let _y = transformed[1];\r\n\r\n      if(e.source.element.nativeElement.offsetTop + transformed[1] < - this.size) {  // Mover Y hacia abajo\r\n        this.resetPosition[el.el_id] = { x: transformed[0], y: transformed[1] - (e.source.element.nativeElement.offsetTop + transformed[1]) };\r\n        _y = transformed[1] - (e.source.element.nativeElement.offsetTop + transformed[1]);\r\n      }\r\n\r\n      if(e.source.element.nativeElement.offsetTop + transformed[1] + offset > this.rootY - this.size) {  // Mover Y hacia arriba\r\n        this.resetPosition[el.el_id] = { x: transformed[0], y: this.rootY - 2.5 * this.size - offset - e.source.element.nativeElement.offsetTop };\r\n        _y = this.rootY - 2.5 * this.size - offset - e.source.element.nativeElement.offsetTop\r\n      }\r\n\r\n      if(e.source.element.nativeElement.offsetLeft + transformed[0] < - this.size) {  // Mover X hacia la derecha\r\n        this.resetPosition[el.el_id] = { x: transformed[0] - (e.source.element.nativeElement.offsetLeft + transformed[0]), y: _y };\r\n      }\r\n    }\r\n\r\n    this.dragging = false;\r\n    this.redraw();\r\n  }\r\n\r\n  mousedown() {\r\n    this.actualCount = this.dragCount;\r\n  }\r\n\r\n  mouseup(id, e) {\r\n    if(e.button == 2) {\r\n      if(this.actualCount === this.dragCount && this.elementList.find(e => e.id == id) && this.root != id) {\r\n        this.showMenu = id;\r\n      } else {\r\n        this.showMenu = -1;\r\n      }\r\n    }\r\n      \r\n  }\r\n\r\n  setGoal(element) {\r\n    this.showMenu = -1;\r\n    let dialog = this.dialog.open(RootDialogComponent, {\r\n      data: {}\r\n    });\r\n\r\n    dialog.afterClosed().subscribe(res => {\r\n      if(typeof res !== 'undefined') {\r\n        let changed = false;\r\n\r\n        for(let i = this.routes.length - 1; i >= 0; i--) {\r\n          if(this.routes[i].start.el_id == element.id) {\r\n            this.routes.splice(i, 1);\r\n            this.root = element.id\r\n            this.rootName = element.name;\r\n\r\n            this.elementList.splice(this.elementList.findIndex(e => e.id == element.id), 1);\r\n            this.elementList.unshift(element);\r\n            changed = true;\r\n          }\r\n        }\r\n        if(changed) return;\r\n        this.root = element.id\r\n        this.rootName = element.name;\r\n        let _element = this.elementList.find(e => e.id == element.id)\r\n        this.elementList.splice(this.elementList.findIndex(e => e.id == element.id), 1);\r\n        this.elementList.unshift(_element);\r\n      }\r\n    })\r\n  }\r\n\r\n  initRoutes(tree) {\r\n    for(let route of tree) {\r\n      if(route.parent_element_id === 0) {\r\n        this.root = this.elements.find(element => element.id === route.element_id).id;\r\n        this.rootName = this.elements.find(element => element.id === route.element_id).name;\r\n        this.elementList.push(this.elements.find(element => element.id === route.element_id));\r\n        continue;\r\n      }\r\n\r\n      this.routes.push({ start: this.elementRefs.find(element => element.el_id === route.element_id),\r\n        end: this.elementRefs.find(element => element.el_id === route.parent_element_id) });\r\n\r\n      this.elementList.push(this.elements.find(element => element.id === route.element_id));\r\n    }\r\n  }\r\n\r\n  assignCoordinates() {\r\n    for(let [i, element] of this.elementList.entries()) {\r\n      let node = this.route.tree.find(n => n.element_id == element.id)\r\n      this.divs.first.nativeElement.children['element_' + node.element_id].style.position = 'absolute';\r\n      this.divs.first.nativeElement.children['element_' + node.element_id].style.left = node.x * (this.canvas_container.nativeElement.offsetWidth - 100) / 100 + 'px';\r\n      this.divs.first.nativeElement.children['element_' + node.element_id].style.top = node.y * (this.canvas_container.nativeElement.offsetHeight - 100) / 100 + 'px';\r\n      this.divs.first.nativeElement.children['element_' + node.element_id].style.transform = 'translate3d(0px, 0px, 0px)';\r\n      this.divs.first.nativeElement.children['element_' + node.element_id].selected = true;\r\n      this.divs.first.nativeElement.children['element_' + node.element_id].selectable = true;\r\n    }\r\n  }\r\n\r\n  autoConnect(element) {\r\n    // let last = this.routes.length > 0 ? this.routes[this.routes.length-1].start : null;\r\n    // if(this.root) {\r\n    //   if(last) {\r\n    //     this.routes.push({ start: element, end: last });\r\n    //   } else {\r\n    //     let root = this.elementRefs.find(el => el.el_id == this.root);\r\n    //     this.routes.push({ start: element, end: root })\r\n    //   }\r\n    // }\r\n  }\r\n\r\n  searchChanged() {\r\n    this.searchForm.valueChanges.subscribe(form => {\r\n        if(form.search === '') this._elements = this.elements\r\n        else {\r\n            this._elements = [...this.elementList];\r\n            this.elements.forEach(el => {\r\n                if(el.name.toLowerCase().includes(form.search.toLowerCase()) && !this._elements.find(_el => _el.id == el.id) ) this._elements.push(el);\r\n            })\r\n        }\r\n    });\r\n  }\r\n\r\n  filterMovedElements() {\r\n    return this.elementList.map(element => this.elements.find(el => el.id === element.id));\r\n  }\r\n\r\n  setEdit() {\r\n    this.draggingArrow = true;\r\n    this.delete = false;\r\n  }\r\n\r\n  cancelEdit() {\r\n    this.draggingArrow = false;\r\n    this.delete = false;\r\n  }\r\n\r\n  setDelete() {\r\n    this.constructDivs();\r\n    this.draggingArrow = false;\r\n    this.delete = true;\r\n  }\r\n  \r\n  cancelDelete() {\r\n    this.arrowElements = [];\r\n    this.draggingArrow = false;\r\n    this.delete = false;\r\n  }\r\n\r\n  select(e) {\r\n    // let el = e.path.find(element => element.id !== '');\r\n\r\n    // if(!el.selectable) {\r\n      // el.selectable = true;\r\n    // } else {\r\n      // let id = this.elementRefs.find(element => element.div_id === el.id);\r\n      // if(this.start) {\r\n      //   this.start = false;\r\n      //   this.tempEl['start'] = id;\r\n      // } else if(this.end) {\r\n      //   this.start = true;\r\n      //   this.tempEl['end'] = id;\r\n      //   console.log(this.tempEl);\r\n      //   this.pushRoute();\r\n      // } \r\n      // else \r\n      // if(this.delete) {\r\n      //   this.deleteLink(id.el_id);\r\n      // }\r\n    // }\r\n  }\r\n\r\n  setDragging(e, pos, id) {\r\n    this.arrowElements = [];\r\n    this.dragCount++;\r\n    let el = this.elementRefs.find(element => element.el_id === id);\r\n    if(!this.tempEl.start) {\r\n      if(e.type !== 'mousedown') {\r\n        this.tempEl = {};\r\n        return;\r\n      }\r\n      let offsetX, offsetY;\r\n      if(id == this.root) {\r\n        switch(pos) {\r\n          case 'top': offsetX = 91; offsetY = -17; break;\r\n          case 'right': offsetX = 200; offsetY = 91; break;\r\n          case 'bottom': offsetX = 91; offsetY = 200; break;\r\n          case 'left': offsetX = -17; offsetY = 91; break;\r\n          case 'none': offsetX = 0; offsetY = 0; break;\r\n        }\r\n      } else {\r\n        switch(pos) {\r\n          case 'top': offsetX = 41; offsetY = -17; break;\r\n          case 'right': offsetX = 100; offsetY = 41; break;\r\n          case 'bottom': offsetX = 41; offsetY = 100; break;\r\n          case 'left': offsetX = -17; offsetY = 41; break;\r\n          case 'none': offsetX = 0; offsetY = 0; break;\r\n        }\r\n      }\r\n      let div3d = this.getTranslate3DValues(id);\r\n      this.Xi = parseInt(this.divs.first.nativeElement.children[el.div_id].style.left.replace('px', '')) +\r\n        div3d[0] + offsetX + e.target.offsetWidth / 2;\r\n      this.Yi = parseInt(this.divs.first.nativeElement.children[el.div_id].style.top.replace('px', '')) +\r\n        div3d[1] + offsetY + e.target.offsetHeight / 2;\r\n\r\n      this.tempEl['start'] = el;\r\n    } else {\r\n      // if(e.type !== 'mouseup') {\r\n      //   this.tempEl = {};\r\n      //   return;\r\n      // }\r\n      this.tempEl['end'] = el;\r\n      this.pushRoute();\r\n      this.tempEl = {};\r\n      this.Xi = null;\r\n      this.Yi = null;\r\n    }\r\n  }\r\n\r\n  cancelDragging(e) {\r\n    this.tempEl = {};\r\n    this.Xi = null;\r\n    this.Yi = null;\r\n  }\r\n\r\n  getMousePos(e) {\r\n    this.mouseX = e.offsetX;\r\n    this.mouseY = e.offsetY;\r\n  }\r\n\r\n  pushRoute() {\r\n    let err = false;\r\n    if(this.tempEl.start === this.tempEl.end) {\r\n      err = true;\r\n      // this.snack.open(this.translateService.instant('ERROR.ROUTE_SELF'), 'WARNING', {\r\n      //   horizontalPosition: this.xPos,\r\n      //   verticalPosition: this.yPos,\r\n      //   duration: 5000,\r\n      //   panelClass: 'yellow',\r\n      // });\r\n    }\r\n    if(this.tempEl.start.el_id == this.elementList[0].id) {\r\n      err = true;\r\n      this.snack.open(this.translateService.instant('ERROR.PARENT_ROUTE'), 'WARNING', {\r\n        horizontalPosition: this.xPos,\r\n        verticalPosition: this.yPos,\r\n        duration: 5000,\r\n        panelClass: 'yellow',\r\n      });\r\n    }\r\n    if(!err) {\r\n      for(let element of this.routes) {\r\n        if(this.tempEl.start === element.start) {\r\n          err = true;\r\n          this.snack.open(this.translateService.instant('ERROR.PARENTS'), 'WARNING', {\r\n            horizontalPosition: this.xPos,\r\n            verticalPosition: this.yPos,\r\n            duration: 5000,\r\n            panelClass: 'yellow',\r\n          });\r\n          break;\r\n        }\r\n  \r\n        if(\r\n          (element.start === this.tempEl.start && element.end === this.tempEl.end) ||\r\n          (element.start === this.tempEl.end && element.end === this.tempEl.start)\r\n        ) {\r\n          err = true;\r\n          this.snack.open(this.translateService.instant('ERROR.ROUTE_REPEAT'), 'WARNING', {\r\n            horizontalPosition: this.xPos,\r\n            verticalPosition: this.yPos,\r\n            duration: 5000,\r\n            panelClass: 'yellow',\r\n          });\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if(!err) {\r\n      this.routes.push({...this.tempEl});\r\n      this.tempEl = {};\r\n      this.redraw();\r\n    }\r\n  }\r\n\r\n  redraw() {\r\n    this.ctx.clearRect(0, 0, this.canvas_container.nativeElement.offsetWidth, this.canvas_container.nativeElement.offsetHeight);\r\n\r\n    let start;\r\n    let end;\r\n    let angle;\r\n    let points;\r\n    let arrowPoints;\r\n\r\n    if(this.tempEl.start) {\r\n      angle = this.getAngle(this.mouseX, this.mouseY, this.Xi, this.Yi);\r\n      points = this.getPlainCoordinates(this.Xi, this.Yi, this.mouseX, this.mouseY, angle);\r\n      arrowPoints = this.getArrowHead(points[4], points[5], points[6]);\r\n\r\n      this.ctx.beginPath();\r\n      this.ctx.lineWidth = 2;\r\n      this.ctx.fillStyle = '#6a6a6a';\r\n      this.ctx.strokeStyle = '#6a6a6a';\r\n\r\n      this.ctx.moveTo(points[0], points[1]);\r\n      this.ctx.lineTo(points[2], points[3]);\r\n      this.ctx.lineTo(points[4], points[5]);\r\n\r\n      this.ctx.stroke();\r\n\r\n      this.ctx.beginPath();\r\n\r\n      this.ctx.lineWidth = 2.5;\r\n      this.ctx.moveTo(points[4], points[5]);\r\n      this.ctx.lineTo(arrowPoints[0], arrowPoints[1]);\r\n      this.ctx.moveTo(points[4], points[5]);\r\n      this.ctx.lineTo(arrowPoints[2], arrowPoints[3]);\r\n\r\n      this.ctx.stroke();\r\n    }\r\n\r\n    for(let [i, route] of this.routes.entries()) {\r\n      start = this.getPoints(route.start);\r\n      end = this.getPoints(route.end);\r\n      angle = this.getAngle(end[1] + this.size, end[0] + this.size, start[1] + this.size, start[0] + this.size)\r\n      points = this.getCoordinates(start[0], start[1], end[0], end[1], angle, route.end.el_id == this.root);\r\n      arrowPoints = this.getArrowHead(points[6], points[7], points[8]);\r\n\r\n      this.ctx.beginPath();\r\n      this.ctx.lineWidth = 2;\r\n      this.ctx.fillStyle = '#6a6a6a';\r\n      this.ctx.strokeStyle = '#6a6a6a';\r\n\r\n      this.ctx.moveTo(points[0], points[1]);\r\n      this.ctx.lineTo(points[2], points[3]);\r\n      this.ctx.lineTo(points[4], points[5]);\r\n      this.ctx.lineTo(points[6], points[7]);\r\n\r\n      this.ctx.stroke();\r\n\r\n      this.ctx.beginPath();\r\n\r\n      this.ctx.lineWidth = 2.5;\r\n      this.ctx.moveTo(points[6], points[7]);\r\n      this.ctx.lineTo(arrowPoints[0], arrowPoints[1]);\r\n      this.ctx.moveTo(points[6], points[7]);\r\n      this.ctx.lineTo(arrowPoints[2], arrowPoints[3]);\r\n\r\n      this.ctx.stroke();\r\n    }\r\n  }\r\n\r\n  getArrowHead(x1, y1, direction) {\r\n    switch(direction) {\r\n      case 0: return this.getArrowPoints(x1, y1, 0);\r\n      case 1: return this.getArrowPoints(x1, y1, 270);\r\n      case 2: return this.getArrowPoints(x1, y1, 180);\r\n      case 3: return this.getArrowPoints(x1, y1, 90);\r\n      default: return null;\r\n    }\r\n  }\r\n\r\n  getArrowPoints(x1, y1, angle) {\r\n    const size = 13;\r\n    let radians0 = angle * (Math.PI / 180);\r\n    let radians1 = (angle * (Math.PI / 180)) + Math.PI +  Math.PI / 6;\r\n    let radians2 = (angle * (Math.PI / 180)) + Math.PI -  Math.PI / 6;\r\n    let offset = (angle > 0 && angle < 90) || angle > 270 ? -2 * Math.asin(Math.sin(radians0)) : 2 * Math.asin(Math.sin(radians0));\r\n\r\n    return [ x1 + (size * Math.cos(radians1 + offset)), y1 + (size * Math.sin(radians1 + offset)),\r\n      x1 + (size * Math.cos(radians2 + offset)), y1 + (size * Math.sin(radians2 + offset))]\r\n  }\r\n\r\n  getPlainCoordinates(x1, y1, x2, y2, angle) {\r\n    if(Math.abs(x2 - x1) < this.size * 2 || Math.abs(y2 - y1) < this.size * 2) {\r\n      if(angle < 45) {\r\n        return [x1, y1, x1, y2, x2, y2, 2];\r\n      } else if(angle < 90) {\r\n        return [x1, y1, x1, y2, x2, y2, 2];\r\n      } else if(angle < 135) {\r\n        return [x1, y1, x2, y1, x2, y2, 3];\r\n      } else if(angle < 180) {\r\n        return [x1, y1, x2, y1, x2, y2, 3];\r\n      } else if(angle > 225) {\r\n        return [x1, y1, x1, y2, x2, y2, 0];\r\n      } else if(angle < 270) {\r\n        return [x1, y1, x1, y2, x2, y2, 0];\r\n      } else if(angle < 315) {\r\n        return [x1, y1, x2, y1, x2, y2, 1];\r\n      } else {\r\n        return [x1, y1, x2, y1, x2, y2, 1];\r\n      }\r\n    }\r\n    else {\r\n      if(angle < 90) {\r\n        return [x1, y1, x1, y2, x2, y2, 2];\r\n      } else if(angle < 180) {\r\n        return [x1, y1, x1, y2, x2, y2, 2];\r\n      } else if(angle < 270) {\r\n        return [x1, y1, x1, y2, x2, y2, 0];\r\n      } else {\r\n        return [x1, y1, x1, y2, x2, y2, 0];\r\n      }\r\n    }\r\n  }\r\n\r\n  getCoordinates(x1, y1, x2, y2, angle, root) {\r\n    if(root) {\r\n      if(Math.abs(x2 - x1) < this.size * 2.5 || Math.abs(y2 - y1) < this.size * 2.5) {\r\n        if(angle > 315 || angle < 45) {\r\n          return [\r\n            x1 + this.size,\r\n            y1 + this.size,\r\n\r\n            (x1 + x2 + this.size * 2) / 2,\r\n            y1 + this.size,\r\n            \r\n            (x1 + x2 + this.size * 2) / 2,\r\n            y2 + this.size * 2,\r\n            \r\n            x2,\r\n            y2 + this.size * 2,\r\n            \r\n            0,\r\n            true\r\n          ];\r\n        } else if(angle < 135) {\r\n          return [\r\n            x1 + this.size,\r\n            y1 + this.size,\r\n\r\n            x1 + this.size,\r\n            (y1 + y2 + this.size * 2) / 2,\r\n\r\n            x2 + this.size * 2,\r\n            (y1 + y2 + this.size * 2) / 2,\r\n\r\n            x2 + this.size * 2,\r\n            y2 + 2 * this.size * 2,\r\n\r\n            3,\r\n            true\r\n          ];\r\n        } else if(angle < 225) {\r\n          return [\r\n            x1 + this.size,\r\n            y1 + this.size,\r\n\r\n            (x1 + x2 + this.size * 2) / 2,\r\n            y1 + this.size,\r\n\r\n            (x1 + x2 + this.size * 2) / 2,\r\n            y2 + this.size * 2,\r\n\r\n            x2 + this.size * 2 * 2,\r\n            y2 + this.size * 2,\r\n\r\n            2,\r\n            true\r\n          ];\r\n        } else {\r\n          return [\r\n            x1 + this.size,\r\n            y1 + this.size,\r\n\r\n            x1 + this.size,\r\n            (y1 + y2 + this.size * 2) / 2,\r\n            \r\n            x2 + this.size * 2,\r\n            (y1 + y2 + this.size * 2) / 2,\r\n            \r\n            x2 + this.size * 2,\r\n            y2,\r\n            \r\n            1,\r\n            true\r\n          ];\r\n        }\r\n      }\r\n      else {\r\n        if(angle < 90 || angle > 270) {\r\n          return [\r\n            x1 + this.size,\r\n            y1 + this.size,\r\n            x1 + this.size,\r\n            y2 + this.size * 2,\r\n            x1 + this.size,\r\n            y2 + this.size * 2,\r\n            x2,\r\n            y2 + this.size * 2,\r\n            0,\r\n            false\r\n          ];\r\n        } else {\r\n          return [\r\n            x1 + this.size,\r\n            y1 + this.size,\r\n            x1 + this.size,\r\n            y2 + this.size * 2,\r\n            x1 + this.size,\r\n            y2 + this.size * 2,\r\n            x2 + this.size * 2 * 2,\r\n            y2 + this.size * 2,\r\n            2,\r\n            false\r\n          ];\r\n        }\r\n      }\r\n    } else {\r\n      if(Math.abs(x2 - x1) < this.size * 2.5 || Math.abs(y2 - y1) < this.size * 2.5) {\r\n        if(angle > 315 || angle < 45) {\r\n          return [x1 + this.size, y1 + this.size, (x1 + x2 + this.size * 2) / 2, y1 + this.size, (x1 + x2 + this.size * 2) / 2, y2 + this.size, x2, y2 + this.size, 0, true];\r\n        } else if(angle < 135) {\r\n          return [x1 + this.size, y1 + this.size, x1 + this.size, (y1 + y2 + this.size * 2) / 2, x2 + this.size, (y1 + y2 + this.size * 2) / 2, x2 + this.size, y2 + 2 * this.size, 3, true];\r\n        } else if(angle < 225) {\r\n          return [x1 + this.size, y1 + this.size, (x1 + x2 + this.size * 2) / 2, y1 + this.size, (x1 + x2 + this.size * 2) / 2, y2 + this.size, x2 + this.size * 2, y2 + this.size, 2, true];\r\n        } else {\r\n          return [x1 + this.size, y1 + this.size, x1 + this.size, (y1 + y2 + this.size * 2) / 2, x2 + this.size, (y1 + y2 + this.size * 2) / 2, x2 + this.size, y2, 1, true];\r\n        }\r\n      }\r\n      else {\r\n        if(angle < 90 || angle > 270) {\r\n          return [x1 + this.size, y1 + this.size, x1 + this.size, y2 + this.size, x1 + this.size, y2 + this.size, x2, y2 + this.size, 0, false];\r\n        } else {\r\n          return [x1 + this.size, y1 + this.size, x1 + this.size, y2 + this.size, x1 + this.size, y2 + this.size, x2 + this.size * 2, y2 + this.size, 2, false];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  getFinalPositionFactors(angle) {\r\n    let radians = angle * (Math.PI / 180);\r\n    if(angle < 90) {\r\n      return [ this.size - this.size * Math.cos(radians), this.size + this.size * Math.sin(radians) ];\r\n    } else if(angle < 180) {\r\n      return [ this.size + this.size * Math.cos(radians + Math.PI), this.size + this.size * Math.sin(radians) ];\r\n    } else if(angle < 270) {\r\n      return [ this.size - this.size * Math.cos(radians), this.size + this.size * Math.sin(radians) ];\r\n    } else {\r\n      return [ this.size + this.size * Math.cos(radians + Math.PI), this.size + this.size * Math.sin(radians) ];\r\n    }\r\n  }\r\n\r\n  getAngle(currX, currY, endX, endY) {\r\n    var angle = Math.atan2(currX - endX, currY - endY) * (180 / Math.PI);\r\n  \r\n    if (angle < 0) {\r\n      angle = Math.abs(angle);\r\n    } else {\r\n      angle = 360 - angle;\r\n    }\r\n  \r\n    return angle;\r\n  };\r\n  \r\n\r\n  getPoints(element) {\r\n    let x = this.getTranslate3DValues(element.el_id);\r\n    return [parseInt(this.divs.first.nativeElement.children[element.div_id].style.left.replace('px', '')) + x[0],\r\n      parseInt(this.divs.first.nativeElement.children[element.div_id].style.top.replace('px', '')) + x[1]];\r\n  }\r\n\r\n  deleteLink(element_id) {\r\n    for(let [i, route] of this.routes.entries()) {\r\n      if(route.start.el_id == element_id) { \r\n        this.routes.splice(i, 1);\r\n        this.arrowElements.splice(this.arrowElements.findIndex((el) => element_id == el.id), 1);\r\n        break;\r\n      }\r\n    }\r\n    this.redraw();\r\n  }\r\n\r\n  deleteElement(element) {\r\n    this.divs.first.nativeElement.children[element.div_id].style.position = 'initial';\r\n    this.divs.first.nativeElement.children[element.div_id].style.left = 'unset';\r\n    this.divs.first.nativeElement.children[element.div_id].style.top = 'unset';\r\n    this.divs.first.nativeElement.children[element.div_id].selected = false;\r\n\r\n    this.resetPosition[element.el_id] = { x: 0, y: 0 };\r\n\r\n    if(this.elementList[0] && element.el_id == this.elementList[0].id) {\r\n      this.root = null;\r\n      this.rootName = null;\r\n      if(this.elementList[1]) {\r\n        this.root = this.elementList[1].id;\r\n        this.rootName = this.elements.find(element => this.root == element.id).name;\r\n      }\r\n    }\r\n\r\n    for(let [i, el] of this.elementList.entries()) {\r\n      if(el.id === element.el_id) this.elementList.splice(i, 1);\r\n    }\r\n\r\n    for(let i = this.routes.length - 1; i >= 0; i--) {\r\n      if(this.routes[i].start.el_id == element.el_id || this.routes[i].end.el_id == element.el_id) {\r\n        this.routes.splice(i, 1);\r\n      }\r\n    }\r\n\r\n    this.redraw();\r\n  }\r\n\r\n  constructElementList() {\r\n    let div = this.divs.first.nativeElement.children[this.elementRefs.find(el => el.el_id == this.root).div_id];\r\n    let x = this.getTranslate3DValues(this.root);\r\n\r\n    let posX = (div.offsetLeft + x[0]) * 100 / (this.canvas_container.nativeElement.offsetWidth - 100);\r\n    let posY = (div.offsetTop + x[1]) * 100 / (this.canvas_container.nativeElement.offsetHeight - 100)\r\n    posX = posX > 100 ? 100 : posX < 0 ? 0 : posX;\r\n    posY = posY > 100 ? 100 : posY < 0 ? 0 : posY;\r\n\r\n    let out: any = [{\r\n      id: this.root,\r\n      name: this.elements.find(el => el.id == this.root).name,\r\n      parent: null,\r\n      first: false,\r\n      x: posX,\r\n      y: posY\r\n    }];\r\n    let pivotes = [this.root];\r\n    while(pivotes.length > 0) {\r\n      let current = pivotes.shift();\r\n      \r\n      for(let route of this.routes) {\r\n        if(current === route.end.el_id) {\r\n          div = this.divs.first.nativeElement.children[this.elementRefs.find(el => el.el_id == route.start.el_id).div_id];\r\n          x = this.getTranslate3DValues(route.start.el_id);\r\n\r\n          posX = (div.offsetLeft + x[0]) * 100 / (this.canvas_container.nativeElement.offsetWidth - 100);\r\n          posY = (div.offsetTop + x[1]) * 100 / (this.canvas_container.nativeElement.offsetHeight - 100)\r\n          posX = posX > 100 ? 100 : posX < 0 ? 0 : posX;\r\n          posY = posY > 100 ? 100 : posY < 0 ? 0 : posY;\r\n          \r\n          out.push({\r\n            id: route.start.el_id,\r\n            name: this.elements.find(el => el.id == route.start.el_id).name,\r\n            parent: current,\r\n            first: false,\r\n            x: posX,\r\n            y: posY\r\n          });\r\n          pivotes.push(route.start.el_id);\r\n        }\r\n      }\r\n    }\r\n    out[out.length-1].first = true;\r\n    return out;\r\n  }\r\n\r\n  goCreateRoute() {\r\n    let elements;\r\n    if(this.routes.length > 0) {\r\n      elements = this.constructElementList();\r\n    } else if(this.root) {\r\n      let div = this.divs.first.nativeElement.children[this.elementRefs.find(el => el.el_id == this.root).div_id];\r\n      let x = this.getTranslate3DValues(this.root);\r\n\r\n      elements = [{\r\n        id: this.root,\r\n        name: this.elements.find(el => el.id == this.root).name,\r\n        parent: null,\r\n        first: true,\r\n        x: (div.offsetLeft + x[0]) * 100 / (this.canvas_container.nativeElement.offsetWidth - 100),\r\n        y: (div.offsetTop + x[1]) * 100 / (this.canvas_container.nativeElement.offsetHeight - 100)\r\n      }];\r\n      elements[0].x = elements[0].x > 100 ? 100 : elements[0].x < 0 ? 0 : elements[0].x;\r\n      elements[0].y = elements[0].y > 100 ? 100 : elements[0].y < 0 ? 0 : elements[0].y;\r\n\r\n    } else elements = null;\r\n\r\n    if(elements) {\r\n      const dialog = this.dialog.open(CreateRouteDialogComponent, {\r\n        width: '90vw',\r\n        height: '90vh',\r\n        maxWidth: '90vw',\r\n        maxHeight: '90vh',\r\n        data: {\r\n          elements: elements,\r\n          difficulties: this.difficulties,\r\n          materiality: this.materialities,\r\n          route: this.route || undefined,\r\n          image: this.route ? this.route.image_url ? this.route.image_url : undefined : undefined\r\n        }\r\n      });\r\n\r\n      dialog.afterClosed().subscribe(res => {\r\n        if(typeof res !== 'undefined') {\r\n          this.fuseProgressBarService.show();\r\n          let body = {};\r\n          if(!this.route) {\r\n            body = {\r\n              ...res.form,\r\n              score: parseInt(res.form.score),\r\n              expire_at: res.form.expire_at ? moment(res.form.expire_at, 'YYYY-MM-DDTHH:mm:ss').format('YYYY-MM-DD') || undefined : undefined,\r\n              tree: elements.map(el => ({ element: parseInt(el.id), parent: parseInt(el.parent) || undefined, x: el.x, y: el.y }))\r\n            }\r\n            this.routesService.postRoute(body).subscribe(_res => {\r\n              if(res.formdata) {\r\n                this.routesService.uploadRouteImage(res.formdata, _res.id).subscribe(__res => {\r\n                  this.snack.open(_res.message, 'INFO', {\r\n                    horizontalPosition: this.xPos,\r\n                    verticalPosition: this.yPos,\r\n                    duration: 5000,\r\n                    panelClass: 'green',\r\n                  });\r\n  \r\n                  this.fuseProgressBarService.hide();\r\n      \r\n                  this.router.navigate(['routes/consult']);\r\n                }, err => {\r\n                  console.log(err);\r\n                  this.snack.open(err.error.message, 'ERROR', {\r\n                    horizontalPosition: this.xPos,\r\n                    verticalPosition: this.yPos,\r\n                    duration: 5000,\r\n                    panelClass: 'red',\r\n                  });\r\n                });\r\n              } else {\r\n                this.snack.open(_res.message, 'INFO', {\r\n                  horizontalPosition: this.xPos,\r\n                  verticalPosition: this.yPos,\r\n                  duration: 5000,\r\n                  panelClass: 'green',\r\n                });\r\n  \r\n                this.fuseProgressBarService.hide();\r\n      \r\n                this.router.navigate(['routes/consult']);\r\n              }\r\n            }, err => {\r\n              this.snack.open(err.error.message, 'ERROR', {\r\n                horizontalPosition: this.xPos,\r\n                verticalPosition: this.yPos,\r\n                duration: 5000,\r\n                panelClass: 'red',\r\n              });\r\n            });\r\n          } else {\r\n            body = {\r\n              ...res.form,\r\n              id: this.route.id,\r\n              image_url: this.route.image_url ? this.route.image_url : undefined,\r\n              score: parseInt(res.form.score),\r\n              expire_at: res.form.expire_at ? moment(res.form.expire_at, 'YYYY-MM-DDTHH:mm:ss').format('YYYY-MM-DD') || undefined : undefined,\r\n              tree: elements.map(el => ({ element: parseInt(el.id), parent: parseInt(el.parent) || undefined, x: el.x, y: el.y }))\r\n            }\r\n            this.routesService.editRoute(body).subscribe(_res => {\r\n              if(res.formdata) {\r\n                this.routesService.uploadRouteImage(res.formdata, _res.id).subscribe(__res => {\r\n                  this.snack.open(_res.message, 'INFO', {\r\n                    horizontalPosition: this.xPos,\r\n                    verticalPosition: this.yPos,\r\n                    duration: 5000,\r\n                    panelClass: 'green',\r\n                  });\r\n  \r\n                  this.fuseProgressBarService.hide();\r\n      \r\n                  this.router.navigate(['routes/consult']);\r\n                }, err => {\r\n                  console.log(err);\r\n                  this.snack.open(err.error.message, 'ERROR', {\r\n                    horizontalPosition: this.xPos,\r\n                    verticalPosition: this.yPos,\r\n                    duration: 5000,\r\n                    panelClass: 'red',\r\n                  });\r\n                });\r\n              } else {\r\n                this.snack.open(_res.message, 'INFO', {\r\n                  horizontalPosition: this.xPos,\r\n                  verticalPosition: this.yPos,\r\n                  duration: 5000,\r\n                  panelClass: 'green',\r\n                });\r\n  \r\n                this.fuseProgressBarService.hide();\r\n      \r\n                this.router.navigate(['routes/consult']);\r\n              }\r\n            }, err => {\r\n              this.snack.open(err.error.message, 'ERROR', {\r\n                horizontalPosition: this.xPos,\r\n                verticalPosition: this.yPos,\r\n                duration: 5000,\r\n                panelClass: 'red',\r\n              });\r\n            });\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      this.snack.open(this.translateService.instant('ERROR.ROUTE_EMPTY'), 'ERROR', {\r\n        horizontalPosition: this.xPos,\r\n        verticalPosition: this.yPos,\r\n        duration: 5000,\r\n        panelClass: 'red',\r\n      });\r\n    }\r\n  }\r\n\r\n  doesFit(string: string) {\r\n    return string.length < 30;\r\n  }\r\n\r\n  getElementEllipse(name) {\r\n    return name.substring(0, 29).trim() + '...';\r\n  }\r\n\r\n  getTranslate3DValues(elementId) {\r\n    let div = this.divs.first.nativeElement.children[this.elementRefs.find(el => el.el_id == elementId).div_id];\r\n    if(div.style.transform) {\r\n      let start = div.style.transform.indexOf('(');\r\n      let x = div.style.transform.substring(start + 1);\r\n      x = x.substring(0, x.length - 1).split(',');\r\n      return [parseInt(x[0].replace('px', '')), parseInt(x[1].replace('px', '')), parseInt(x[2].replace('px', ''))]\r\n    }\r\n\r\n    return [0, 0];\r\n  }\r\n\r\n  isSelectable(id) {\r\n    return this.elementList.find(el => el.id == id) ? true : false;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.routesService.routeName = null;\r\n  }\r\n\r\n  goViewRoutes() {\r\n    const dialog = this.dialog.open(CancelDialogComponent, {\r\n      data: {}\r\n    });\r\n\r\n    dialog.afterClosed().subscribe(res => {\r\n      if(typeof res !== 'undefined') this.router.navigate(['routes/consult']);\r\n    })\r\n  }\r\n\r\n  getSize(id) {\r\n    if(id == this.root) return { 'width': '200px' };\r\n    else return null;\r\n  }\r\n\r\n  getImageSize(id) {\r\n    if(id == this.root) return { 'height': '200px', 'max-height': '200px', 'min-height': '200px' };\r\n    else return null;\r\n  }\r\n\r\n  getTerminalStyle(pos, id) {\r\n    if(id == this.root) {\r\n      switch(pos) {\r\n        case 'top': return { 'top': '-17px', 'left': '91px' };\r\n        case 'left': return { 'top': '91px', 'left': '-17px' };\r\n        case 'bottom': return { 'top': '200px', 'left': '91px' };\r\n        case 'right': return { 'top': '91px', 'left': '200px' };\r\n      }\r\n    } else {\r\n      switch(pos) {\r\n        case 'top': return { 'top': '-17px', 'left': '41px' };\r\n        case 'left': return { 'top': '41px', 'left': '-17px' };\r\n        case 'bottom': return { 'top': '100px', 'left': '41px' };\r\n        case 'right': return { 'top': '41px', 'left': '100px' };\r\n      }\r\n    }\r\n  }\r\n\r\n  constructDivs() {\r\n    this.arrowElements = [];\r\n\r\n    for(let [i, route] of this.routes.entries()) {\r\n      let start = this.getPoints(route.start);\r\n      let end = this.getPoints(route.end);\r\n      let angle = this.getAngle(end[1] + this.size, end[0] + this.size, start[1] + this.size, start[0] + this.size)\r\n      let points = this.getCoordinates(start[0], start[1], end[0], end[1], angle, route.end.el_id == this.root);\r\n\r\n      switch(points[8]) {\r\n        case 0:\r\n          if(points[9]) {\r\n            this.arrowElements.push({\r\n              style: {\r\n                'left': points[0] - 10 + 'px',\r\n                'top': points[1] - 10 + 'px',\r\n                'width': points[2] - points[0] + 20 + 'px',\r\n                'height': \"20px\",\r\n                'background-color': \"transparent\",\r\n                'position': 'absolute',\r\n                'cursor': 'pointer'\r\n              },\r\n              id: route.start.el_id\r\n            })\r\n            \r\n            this.arrowElements.push({\r\n              style: {\r\n                'left': points[2] - 10 + 'px',\r\n                'top': points[3] < points[5] ? points[3] - 10 + 'px' : points[5] - 10 + 'px',\r\n                'width': \"20px\",\r\n                'height': Math.abs(points[5] - points[3]) + 20 + 'px',\r\n                'background-color': \"transparent\",\r\n                'position': 'absolute',\r\n                'cursor': 'pointer'\r\n              },\r\n              id: route.start.el_id\r\n            })\r\n            \r\n          } else {\r\n            this.arrowElements.push({\r\n              style: {\r\n                'left': points[0] - 10 + 'px',\r\n                'top': points[1] < points[3] ? points[1] - 10 + 'px' : points[3] - 10 + 'px',\r\n                'width': \"20px\",\r\n                'height': Math.abs(points[3] - points[1]) + 20 + 'px',\r\n                'background-color': \"transparent\",\r\n                'position': 'absolute',\r\n                'cursor': 'pointer'\r\n              },\r\n              id: route.start.el_id\r\n            })\r\n          }\r\n          this.arrowElements.push({\r\n            style: {\r\n              'left': points[4] - 10 + 'px',\r\n              'top': points[5] - 10 + 'px',\r\n              'width': points[6] - points[4] + 20 + 'px',\r\n              'height': \"20px\",\r\n              'background-color': \"transparent\",\r\n              'position': 'absolute',\r\n              'cursor': 'pointer'\r\n            },\r\n            id: route.start.el_id\r\n          })\r\n          break;\r\n          \r\n        case 1:\r\n          this.arrowElements.push({\r\n            style: {\r\n              'left': points[0] - 10 + 'px',\r\n              'top': points[1] - 10 + 'px',\r\n              'width': \"20px\",\r\n              'height': points[3] - points[1] + 20 + 'px',\r\n              'background-color': \"transparent\",\r\n              'position': 'absolute',\r\n              'cursor': 'pointer'\r\n            },\r\n            id: route.start.el_id\r\n          })\r\n    \r\n          if(points[9]) {\r\n            this.arrowElements.push({\r\n              style: {\r\n                'left': points[2] < points[4] ? points[2] - 10 + 'px' : points[4] - 10 + 'px',\r\n                'top': points[3] - 10 + 'px',\r\n                'width': Math.abs(points[4] - points[2]) + 20 + 'px',\r\n                'height': \"20px\",\r\n                'background-color': \"transparent\",\r\n                'position': 'absolute',\r\n                'cursor': 'pointer'\r\n              },\r\n              id: route.start.el_id\r\n            })\r\n          }\r\n          this.arrowElements.push({\r\n            style: {\r\n              'left': points[4] - 10 + 'px',\r\n              'top': points[5] - 10 + 'px',\r\n              'width': \"20px\",\r\n              'height': points[7] - points[5] + 20 + 'px',\r\n              'background-color': \"transparent\",\r\n              'position': 'absolute',\r\n              'cursor': 'pointer'\r\n            },\r\n            id: route.start.el_id\r\n          })\r\n          break;\r\n\r\n        case 2:\r\n          if(points[9]) {\r\n            this.arrowElements.push({\r\n              style: {\r\n                'left': points[2] - 10 + 'px',\r\n                'top': points[3] - 10 + 'px',\r\n                'width': points[0] - points[2] + 20 + 'px',\r\n                'height': \"20px\",\r\n                'background-color': \"transparent\",\r\n                'position': 'absolute',\r\n                'cursor': 'pointer'\r\n              },\r\n              id: route.start.el_id\r\n            })\r\n            \r\n            this.arrowElements.push({\r\n              style: {\r\n                'left': points[2] - 10 + 'px',\r\n                'top': points[3] < points[5] ? points[3] - 10 + 'px' : points[5] - 10 + 'px',\r\n                'width': \"20px\",\r\n                'height': Math.abs(points[5] - points[3]) + 20 + 'px',\r\n                'background-color': \"transparent\",\r\n                'position': 'absolute',\r\n                'cursor': 'pointer'\r\n              },\r\n              id: route.start.el_id\r\n            })\r\n            \r\n          } else {\r\n            this.arrowElements.push({\r\n              style: {\r\n                'left': points[0] - 10 + 'px',\r\n                'top': points[1] < points[3] ? points[1] - 10 + 'px' : points[3] - 10 + 'px',\r\n                'width': \"20px\",\r\n                'height': Math.abs(points[3] - points[1]) + 20 + 'px',\r\n                'background-color': \"transparent\",\r\n                'position': 'absolute',\r\n                'cursor': 'pointer'\r\n              },\r\n              id: route.start.el_id\r\n            })\r\n          }\r\n          this.arrowElements.push({\r\n            style: {\r\n              'left': points[6] - 10 + 'px',\r\n              'top': points[7] - 10 + 'px',\r\n              'width': points[4] - points[6] + 20 + 'px',\r\n              'height': \"20px\",\r\n              'background-color': \"transparent\",\r\n              'position': 'absolute',\r\n              'cursor': 'pointer'\r\n            },\r\n            id: route.start.el_id\r\n          })\r\n          break;\r\n\r\n        case 3:\r\n          this.arrowElements.push({\r\n            style: {\r\n              'left': points[0] - 10 + 'px',\r\n              'top': points[3] - 10 + 'px',\r\n              'width': \"20px\",\r\n              'height': points[1] - points[3] + 20 + 'px',\r\n              'background-color': \"transparent\",\r\n              'position': 'absolute',\r\n              'cursor': 'pointer'\r\n            },\r\n            id: route.start.el_id\r\n          })\r\n    \r\n          if(points[9]) {\r\n            this.arrowElements.push({\r\n              style: {\r\n                'left': points[2] < points[4] ? points[2] - 10 + 'px' : points[4] - 10 + 'px',\r\n                'top': points[3] - 10 + 'px',\r\n                'width': Math.abs(points[4] - points[2]) + 20 + 'px',\r\n                'height': \"20px\",\r\n                'background-color': \"transparent\",\r\n                'position': 'absolute',\r\n                'cursor': 'pointer'\r\n              },\r\n              id: route.start.el_id\r\n            })\r\n          }\r\n\r\n          this.arrowElements.push({\r\n            style: {\r\n              'left': points[6] - 10 + 'px',\r\n              'top': points[7] - 10 + 'px',\r\n              'width': \"20px\",\r\n              'height': points[5] - points[7] + 20 + 'px',\r\n              'background-color': \"transparent\",\r\n              'position': 'absolute',\r\n              'cursor': 'pointer'\r\n            },\r\n            id: route.start.el_id\r\n          })\r\n          break;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'cancel-dialog',\r\n  templateUrl: '../cancel-dialog/cancel-dialog.component.html',\r\n})\r\nexport class CancelDialogComponent implements OnInit {\r\n\r\n  constructor(\r\n      public dialogRef: MatDialogRef<any>,\r\n      private router: Router,\r\n      @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  cancel(): void {\r\n      this.dialogRef.close();\r\n  }\r\n\r\n  goViewRoutes(): void {\r\n      \r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'reset-dialog',\r\n  templateUrl: '../reset-dialog/reset-dialog.component.html',\r\n})\r\nexport class ResetDialogComponent implements OnInit {\r\n\r\n  constructor(\r\n      public dialogRef: MatDialogRef<any>,\r\n      private router: Router,\r\n      @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  cancel(): void {\r\n      this.dialogRef.close();\r\n  }\r\n\r\n  goViewRoutes(): void {\r\n      \r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'root-dialog',\r\n  template: \r\n  `<h1 mat-dialog-title>{{'ROOT_OP.TITLE' | translate}}</h1>\r\n  <div mat-dialog-content>\r\n      {{'ROOT_OP.MESSAGE' | translate}}\r\n  </div>\r\n  <mat-dialog-actions align=\"end\">\r\n      <button mat-button mat-dialog-close color='warn' (click)=\"changeRoot();\">{{'ROOT_OP.YES' | translate}}</button>\r\n      <button mat-button (click) = 'cancel();'>{{'ROOT_OP.NO' | translate}}</button>\r\n  </mat-dialog-actions>\r\n    `\r\n})\r\nexport class RootDialogComponent implements OnInit {\r\n\r\n  constructor(\r\n      public dialogRef: MatDialogRef<any>,\r\n      private router: Router,\r\n      @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  cancel(): void {\r\n      this.dialogRef.close();\r\n  }\r\n\r\n  changeRoot(): void {\r\n      \r\n  }\r\n}","export default \".element-card {\\n  width: 100px;\\n  height: 100px;\\n  margin-left: auto;\\n  margin-right: auto;\\n  border-radius: 100%;\\n  position: relative; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9nb3NvcmlvL3NyYy9qcy9hY3JlZGl0dGEvYXBwLnJ1dGFzLXdlYi9zcmMvYXBwL21haW4vcm91dGVzL2RldGFpbC9kZXRhaWwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFZO0VBQ1osYUFBYTtFQUNiLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGtCQUFrQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9yb3V0ZXMvZGV0YWlsL2RldGFpbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5lbGVtZW50LWNhcmQge1xyXG4gICAgd2lkdGg6IDEwMHB4O1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTAwJTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufSJdfQ== */\"","import { Component, OnInit, ViewChild, ViewChildren, QueryList, ChangeDetectorRef, OnDestroy } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FuseConfigService } from '@fuse/services/config.service';\r\nimport { RoutesService } from '../routes.service';\r\nimport { FuseTranslationLoaderService } from '@fuse/services/translation-loader.service';\r\nimport { locale as spanish } from '../i18n/es';\r\nimport htmlToImage from 'html-to-image';\r\nimport { NetworkService } from 'app/services/network.service';\r\nimport { FuseProgressBarService } from '@fuse/components/progress-bar/progress-bar.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { MatSnackBarHorizontalPosition, MatSnackBarVerticalPosition, MatSnackBar } from '@angular/material/snack-bar';\r\n\r\n@Component({\r\n  selector: 'detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent implements OnInit, OnDestroy {\r\n\r\n  @ViewChildren('container')\r\n  public divs: QueryList<any>;\r\n  @ViewChild('container', { static: true }) container;\r\n  @ViewChild('mydiv', { static: true }) div;\r\n\r\n  @ViewChild('mycanvas', { static: true }) canvas;\r\n  route;\r\n  elements = [];\r\n  elementRefs = [];\r\n  levels = [];\r\n  loading = true;\r\n  drawed = false;\r\n\r\n  events: any;\r\n  readonly size = 50;\r\n  levelW = 0;\r\n  ctx;\r\n  w;\r\n  h;\r\n\r\n  xPos: MatSnackBarHorizontalPosition = 'center';\r\n  yPos: MatSnackBarVerticalPosition = 'top';\r\n\r\n  constructor(\r\n      private _fuseTranslationLoaderService: FuseTranslationLoaderService,\r\n      private fuseProgressBarService: FuseProgressBarService,\r\n      private router: Router,\r\n      private fuseConfigService: FuseConfigService,\r\n      private activatedRoute: ActivatedRoute,\r\n      private service: RoutesService,\r\n      private networkService: NetworkService,\r\n      private changesDetector: ChangeDetectorRef,\r\n      private translateService: TranslateService,\r\n      private snack: MatSnackBar,\r\n    ) {\r\n    this.fuseConfigService.config = {\r\n      layout: {\r\n        navbar: {\r\n          hidden: false\r\n        },\r\n        toolbar: {\r\n          hidden: false\r\n        }\r\n      }\r\n    }\r\n\r\n    this._fuseTranslationLoaderService.loadTranslations(spanish);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fuseProgressBarService.show();\r\n    this.ctx = this.canvas.nativeElement.getContext(\"2d\");\r\n    \r\n    this.w = 0\r\n    this.h = 0\r\n\r\n    this.activatedRoute.paramMap.subscribe((res: any) => {\r\n      this.getRoute(res.params.routeId);\r\n    })\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n\r\n    this.events = this.divs.changes.subscribe(val => {\r\n      this.elementRefs = [];\r\n\r\n      this.w = this.container.nativeElement.offsetWidth;\r\n      this.h = this.container.nativeElement.offsetHeight;\r\n\r\n      let interval = setInterval(() => {\r\n        if(!this.loading) {\r\n          clearInterval(interval);\r\n\r\n          for(let el of val.first.nativeElement.children) {\r\n            if(el.id) {\r\n              this.elementRefs.push({ div_id: el.id , el_id: parseInt(el.id.substring(el.id.indexOf('_') + 1)) });\r\n            }\r\n          }\r\n          this.draw();\r\n        } else console.log('Loading...')\r\n      }, 100);\r\n    });\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if(this.drawed) {\r\n      this.w = this.container.nativeElement.offsetWidth;\r\n      this.h = this.container.nativeElement.offsetHeight;\r\n      this.draw();\r\n    }\r\n    this.changesDetector.detectChanges();\r\n    \r\n  }\r\n\r\n  ngDoCheck() {\r\n    \r\n  }\r\n\r\n  getRoute(id) {\r\n    this.route = [];\r\n    this.service.getRoute(id).subscribe(res => {\r\n      this.route = res;\r\n      this.service.routeName = res.name;\r\n      this.getElementList();\r\n    })\r\n  }\r\n\r\n  loadedImages = 0;\r\n  totalImages;\r\n\r\n  getElementList() {\r\n    this.elements = [];\r\n    this.service.getElementList().subscribe(res => {\r\n      this.elements = res;\r\n      this.snack.open(this.translateService.instant('ROUTE.LOADING_IMAGES'), 'INFO', {\r\n        horizontalPosition: this.xPos,\r\n        verticalPosition: this.yPos,\r\n        duration: 99999,\r\n        panelClass: 'blue',\r\n      });\r\n\r\n      this.totalImages = this.route.tree.length;\r\n      for(let el of this.elements) {\r\n        if(!this.route.tree.find(element => element.element_id == el.id)) continue;\r\n        el.image_url = null;\r\n        this.service.getElementImage(el.id).subscribe(res => {\r\n          var reader = new FileReader();\r\n          reader.readAsDataURL(res);\r\n          reader.onload = (event) => {\r\n            el.image_url = reader.result;\r\n            this.loadedImages++;\r\n            if(this.loadedImages == this.totalImages) this.snack.dismiss();\r\n          }\r\n        });\r\n      }\r\n      this.loading = false;\r\n    });\r\n  }\r\n\r\n  draw() {\r\n    this.drawed = true;\r\n    this.ctx.clearRect(0, 0, 2000, 2000);\r\n    this.ctx.beginPath();\r\n    let root = -1;\r\n    \r\n    for(let route of this.route.tree) {\r\n      \r\n      if (route.parent_element_id == 0) {\r\n        root = route.element_id;\r\n        continue;\r\n      }\r\n      let start = this.getPoints(this.elementRefs.find(el => el.el_id == route.element_id));\r\n      let end = this.getPoints(this.elementRefs.find(el => el.el_id == route.parent_element_id));\r\n      \r\n      let angle = this.getAngle(end[1] + this.size, end[0] + this.size, start[1] + this.size, start[0] + this.size)\r\n      let points = this.getCoordinates(start[0], start[1], end[0], end[1], angle, route.parent_element_id == root);\r\n      let arrowPoints = this.getArrowHead(points[6], points[7], points[8]);\r\n\r\n      this.ctx.beginPath();\r\n      this.ctx.lineWidth = 2;\r\n      this.ctx.fillStyle = '#6a6a6a';\r\n      this.ctx.strokeStyle = '#6a6a6a';\r\n\r\n      this.ctx.moveTo(points[0], points[1]);\r\n      this.ctx.lineTo(points[2], points[3]);\r\n      this.ctx.lineTo(points[4], points[5]);\r\n      this.ctx.lineTo(points[6], points[7]);\r\n\r\n      this.ctx.stroke();\r\n\r\n      this.ctx.beginPath();\r\n\r\n      this.ctx.lineWidth = 2.5;\r\n      this.ctx.moveTo(points[6], points[7]);\r\n      this.ctx.lineTo(arrowPoints[0], arrowPoints[1]);\r\n      this.ctx.moveTo(points[6], points[7]);\r\n      this.ctx.lineTo(arrowPoints[2], arrowPoints[3]);\r\n\r\n      this.ctx.stroke();\r\n\r\n      this.fuseProgressBarService.hide();\r\n    }\r\n  }\r\n\r\n  getPoints(element) {\r\n    return [parseInt(this.divs.first.nativeElement.children[element.div_id].style.left.replace('px', '')),\r\n      parseInt(this.divs.first.nativeElement.children[element.div_id].style.top.replace('px', ''))];\r\n  }\r\n\r\n  getArrowHead(x1, y1, direction) {\r\n    switch(direction) {\r\n      case 0: return this.getArrowPoints(x1, y1, 0);\r\n      case 1: return this.getArrowPoints(x1, y1, 270);\r\n      case 2: return this.getArrowPoints(x1, y1, 180);\r\n      case 3: return this.getArrowPoints(x1, y1, 90);\r\n      default: return null;\r\n    }\r\n  }\r\n\r\n  getCoordinates(x1, y1, x2, y2, angle, root) {\r\n    if(root) {\r\n      if(Math.abs(x2 - x1) < this.size * 2.5 || Math.abs(y2 - y1) < this.size * 2.5) {\r\n        if(angle > 315 || angle < 45) {\r\n          return [\r\n            x1 + this.size,\r\n            y1 + this.size,\r\n\r\n            (x1 + x2 + this.size * 2) / 2,\r\n            y1 + this.size,\r\n            \r\n            (x1 + x2 + this.size * 2) / 2,\r\n            y2 + this.size * 2,\r\n            \r\n            x2,\r\n            y2 + this.size * 2,\r\n            \r\n            0,\r\n            true\r\n          ];\r\n        } else if(angle < 135) {\r\n          return [\r\n            x1 + this.size,\r\n            y1 + this.size,\r\n\r\n            x1 + this.size,\r\n            (y1 + y2 + this.size * 2) / 2,\r\n\r\n            x2 + this.size * 2,\r\n            (y1 + y2 + this.size * 2) / 2,\r\n\r\n            x2 + this.size * 2,\r\n            y2 + 2 * this.size * 2,\r\n\r\n            3,\r\n            true\r\n          ];\r\n        } else if(angle < 225) {\r\n          return [\r\n            x1 + this.size,\r\n            y1 + this.size,\r\n\r\n            (x1 + x2 + this.size * 2) / 2,\r\n            y1 + this.size,\r\n\r\n            (x1 + x2 + this.size * 2) / 2,\r\n            y2 + this.size * 2,\r\n\r\n            x2 + this.size * 2 * 2,\r\n            y2 + this.size * 2,\r\n\r\n            2,\r\n            true\r\n          ];\r\n        } else {\r\n          return [\r\n            x1 + this.size,\r\n            y1 + this.size,\r\n\r\n            x1 + this.size,\r\n            (y1 + y2 + this.size * 2) / 2,\r\n            \r\n            x2 + this.size * 2,\r\n            (y1 + y2 + this.size * 2) / 2,\r\n            \r\n            x2 + this.size * 2,\r\n            y2,\r\n            \r\n            1,\r\n            true\r\n          ];\r\n        }\r\n      }\r\n      else {\r\n        if(angle < 90 || angle > 270) {\r\n          return [\r\n            x1 + this.size,\r\n            y1 + this.size,\r\n            x1 + this.size,\r\n            y2 + this.size * 2,\r\n            x1 + this.size,\r\n            y2 + this.size * 2,\r\n            x2,\r\n            y2 + this.size * 2,\r\n            0,\r\n            false\r\n          ];\r\n        } else {\r\n          return [\r\n            x1 + this.size,\r\n            y1 + this.size,\r\n            x1 + this.size,\r\n            y2 + this.size * 2,\r\n            x1 + this.size,\r\n            y2 + this.size * 2,\r\n            x2 + this.size * 2 * 2,\r\n            y2 + this.size * 2,\r\n            2,\r\n            false\r\n          ];\r\n        }\r\n      }\r\n    } else {\r\n      if(Math.abs(x2 - x1) < this.size * 2.5 || Math.abs(y2 - y1) < this.size * 2.5) {\r\n        if(angle > 315 || angle < 45) {\r\n          return [x1 + this.size, y1 + this.size, (x1 + x2 + this.size * 2) / 2, y1 + this.size, (x1 + x2 + this.size * 2) / 2, y2 + this.size, x2, y2 + this.size, 0, true];\r\n        } else if(angle < 135) {\r\n          return [x1 + this.size, y1 + this.size, x1 + this.size, (y1 + y2 + this.size * 2) / 2, x2 + this.size, (y1 + y2 + this.size * 2) / 2, x2 + this.size, y2 + 2 * this.size, 3, true];\r\n        } else if(angle < 225) {\r\n          return [x1 + this.size, y1 + this.size, (x1 + x2 + this.size * 2) / 2, y1 + this.size, (x1 + x2 + this.size * 2) / 2, y2 + this.size, x2 + this.size * 2, y2 + this.size, 2, true];\r\n        } else {\r\n          return [x1 + this.size, y1 + this.size, x1 + this.size, (y1 + y2 + this.size * 2) / 2, x2 + this.size, (y1 + y2 + this.size * 2) / 2, x2 + this.size, y2, 1, true];\r\n        }\r\n      }\r\n      else {\r\n        if(angle < 90 || angle > 270) {\r\n          return [x1 + this.size, y1 + this.size, x1 + this.size, y2 + this.size, x1 + this.size, y2 + this.size, x2, y2 + this.size, 0, false];\r\n        } else {\r\n          return [x1 + this.size, y1 + this.size, x1 + this.size, y2 + this.size, x1 + this.size, y2 + this.size, x2 + this.size * 2, y2 + this.size, 2, false];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  getArrowPoints(x1, y1, angle) {\r\n    const size = 13;\r\n    let radians0 = angle * (Math.PI / 180);\r\n    let radians1 = (angle * (Math.PI / 180)) + Math.PI +  Math.PI / 6;\r\n    let radians2 = (angle * (Math.PI / 180)) + Math.PI -  Math.PI / 6;\r\n    let offset = (angle > 0 && angle < 90) || angle > 270 ? -2 * Math.asin(Math.sin(radians0)) : 2 * Math.asin(Math.sin(radians0));\r\n\r\n    return [ x1 + (size * Math.cos(radians1 + offset)), y1 + (size * Math.sin(radians1 + offset)),\r\n      x1 + (size * Math.cos(radians2 + offset)), y1 + (size * Math.sin(radians2 + offset))]\r\n  }\r\n\r\n  getAngle(currX, currY, endX, endY) {\r\n    var angle = Math.atan2(currX - endX, currY - endY) * (180 / Math.PI);\r\n  \r\n    if (angle < 0) {\r\n      angle = Math.abs(angle);\r\n    } else {\r\n      angle = 360 - angle;\r\n    }\r\n  \r\n    return angle;\r\n  };\r\n\r\n  getDivPosition(element) {\r\n    if(element.parent_element_id == 0) {\r\n      return {\r\n        'position': 'absolute',\r\n        'top': element.y * (this.h - 160) / 100 + 10 + 'px',\r\n        'left': element.x * (this.w - 170) / 100 + 20 + 'px',\r\n        'height': '200px',\r\n        'max-height': '200px',\r\n        'min-height': '200px',\r\n        'width': '200px',\r\n        'max-width': '200px',\r\n        'min-width': '200px'\r\n      };\r\n    } else {\r\n      return {\r\n        'position': 'absolute',\r\n        'top': element.y * (this.h - 160) / 100 + 10 + 'px',\r\n        'left': element.x * (this.w - 170) / 100 + 20 + 'px',\r\n      };\r\n    }\r\n  }\r\n\r\n  getHeight(element) {\r\n    if(element.parent_element_id == 0) {\r\n      return {\r\n        'max-height': '200px',\r\n        'min-height': '200px',\r\n        'height': '200px'\r\n      }\r\n    } else {\r\n      return {\r\n        'max-height': '100px',\r\n        'min-height': '100px',\r\n        'height': '100px'\r\n      }\r\n    }\r\n  }\r\n\r\n  getElementImage(id) {\r\n    if(this.elements.length === 0) {\r\n      return '';\r\n    }\r\n    return this.elements.find(el => el.id == id).image_url;\r\n  }\r\n\r\n  getElementName(id) {\r\n    if(this.elements.length === 0) {\r\n      return '';\r\n    }\r\n    return this.elements.find(el => el.id == id).name;\r\n  }\r\n\r\n  export() {\r\n    this.snack.open(this.translateService.instant('ROUTE.EXPORTING'), 'INFO', {\r\n      horizontalPosition: this.xPos,\r\n      verticalPosition: this.yPos,\r\n      duration: 99999,\r\n      panelClass: 'blue',\r\n    });\r\n\r\n    htmlToImage.toPng(this.container.nativeElement, { backgroundColor: '#eee' }).then(dataUrl => {\r\n      this.div.nativeElement.style.display = 'block';\r\n      var img = new Image();\r\n      img.src = dataUrl;\r\n\r\n      img.onload = (e) => {\r\n        var logo = new Image();\r\n        logo.src = 'assets/images/Acreditta_LogoHorizontal.png';\r\n        let c = document.createElement('canvas');\r\n\r\n        logo.onload = (e) => {\r\n          let w = img.width;\r\n          let h = img.height;\r\n          let ratio = logo.width/logo.height;\r\n          let wLogo = w * 0.15;\r\n          let hLogo = wLogo/ratio;\r\n\r\n          c.height = h;\r\n          c.width = w + wLogo + 40;\r\n          let ctx = c.getContext('2d');\r\n          ctx.fillStyle = '#eee';\r\n\r\n          ctx.fillRect(0, 0, w + wLogo + 40, h);\r\n          ctx.drawImage(img, 0, 0);\r\n          ctx.drawImage(logo, w + 20, h - hLogo - 20, wLogo, hLogo);\r\n\r\n          var a = document.createElement('a');\r\n          a.href = c.toDataURL(\"image/png\");\r\n          a.download = this.route.name + \"-route.png\";\r\n          document.body.appendChild(a);\r\n          a.click();\r\n          document.body.removeChild(a);\r\n          \r\n          this.snack.open(this.translateService.instant('ROUTE.EXPORTED'), 'INFO', {\r\n            horizontalPosition: this.xPos,\r\n            verticalPosition: this.yPos,\r\n            duration: 5000,\r\n            panelClass: 'green',\r\n          });\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.service.routeName = null;\r\n    this.snack.dismiss();\r\n  }\r\n\r\n}","export const locale = {\r\n    lang: 'es',\r\n    data: {\r\n        'CREATE': {\r\n            \"SEARCH\": \"Buscar\",\r\n            \"ADD_ROUTE\": \"Añadir Ruta\",\r\n            \"DELETE_ROUTE\": \"Borrar Elemento\",\r\n            \"DELETE_LINK\": \"Eliminar conexión\",\r\n            \"ENTER_DATA\": \"Ingrese los datos para la formación de la ruta\",\r\n            \"NAME\": \"Nombre de la Ruta\",\r\n            \"GROUP\": \"Grupo\",\r\n            \"DESCRIPTION\": \"Descripcion\",\r\n            \"DURATION\": \"Duración\",\r\n            \"SEQUENCE\": \"Secuencia\",\r\n            \"REQUIRED\": \"Obligatorio\",\r\n            \"START\": \"Inicio\",\r\n            \"FINISH\": \"Culminación\",\r\n            \"SAVE\": \"Guardar\",\r\n            \"SAVE_ROUTE\": \"Guardar Ruta\",\r\n            \"CANCEL\": \"Cancelar\",\r\n            \"BACK\": \"Volver\",\r\n            \"EXPORT\": \"Exportar\",\r\n            \"TAGS\": \"Etiquetas\",\r\n            \"CRITERION\": \"Criterio\",\r\n            \"EXPIRE_AT\": \"Fecha de Expiración\",\r\n            \"LANGUAGE\": \"Idioma\",\r\n            \"SKILLS\": \"Habilidades\",\r\n            \"DIFFICULTY\": \"Dificultad\",\r\n            \"SCORE\": \"Puntuación\",\r\n            \"MATERIALITY\": \"Materialidad\",\r\n            \"ROOT_ELEMENT\": \"Meta de la ruta\",\r\n            \"NO_ROOT\": \"No hay ningún elemento en el campo\",\r\n            \"NEW_ROUTE\": \"Nueva Ruta\",\r\n            \"EDITING\": \"Editando\",\r\n            \"VIEWING\": \"Viendo\",\r\n            \"RESTART\": \"Reiniciar\",\r\n            \"NO_ELEMENTS\": \"Todavía no hay elementos creados. Empieza a crearlos entrando al menú Crear Elementos.\",\r\n            \"SET_AS_GOAL\": \"Establecer como elemento meta\"\r\n        }, 'ERROR': {\r\n            \"REQUIRED\": \"Este campo es requerido\",\r\n            \"MAX_LENGTH_140\": \"El campo no debe exceder los 140 caracteres\",\r\n            \"MIN_LENGTH_5\": \"El campo debe ser igual o mayor a 5 caracteres\",\r\n            \"NUMERIC\": \"Este campo debe ser numérico y mayor a 0\",\r\n            \"ROUTE_SELF\": \"No es posible conectar un elemento consigo mismo\",\r\n            \"PARENT_ROUTE\": \"No es posible dirigir una ruta desde la meta\",\r\n            \"PARENTS\": \"Cada elemento puede tener solo un elemento padre\",\r\n            \"ROUTE_REPEAT\": \"Entre dos elementos solo puede existir una única conexión\",\r\n            \"ROUTE_EMPTY\": \"No es posible registrar una ruta vacía\",\r\n            \"WARN_DISCONNECTED_ELEMENTS\": \"ATENCIÓN: Todos los elementos que no estén conectados al elemento padre directa o indirectamente serán omitidos.\",\r\n            \"IMAGE_TYPE_ERROR\": \"El tipo de archivo debe ser PNG\",\r\n            \"MAX_FILE_SIZE\": \"El tamaño de la imagen no puede exceder los 2MB\"\r\n        }, 'DELETE_OP': {\r\n            'TITLE': '¿Está seguro que desea eliminar esta ruta?',\r\n            'MESSAGE': 'Esta acción no podrá deshacerse',\r\n            'YES': 'Sí',\r\n            'NO': 'No'\r\n        }, 'CANCEL_OP': {\r\n            'YES': \"Sí\",\r\n            'NO': 'No',\r\n            'TITLE': '¿Está seguro que desea salir?',\r\n            'MESSAGE': 'Se perderán los cambios no guardados'\r\n        }, 'RESET_OP': {\r\n            'YES': \"Sí\",\r\n            'NO': 'No',\r\n            'TITLE': '¿Está seguro que desea reiniciar la creación de la ruta?',\r\n            'MESSAGE': 'Se perderán todos los cambios realizados'\r\n        }, 'ROOT_OP': {\r\n            'YES': \"Sí\",\r\n            'NO': 'No',\r\n            'TITLE': '¿Está seguro de cambiar el elemento meta?',\r\n            'MESSAGE': 'Los conectores que se originen del nuevo elemento meta se eliminarán.'\r\n        }, 'ROUTE': {\r\n            \"VIEW\": \"Ver\",\r\n            \"EDIT\": \"Editar\",\r\n            \"DELETE\": \"Eliminar\",\r\n            \"NO_ROUTES\": \"Todavía no hay rutas creadas. Empieza a crearlas entrando al menú Crear Rutas.\",\r\n            \"LOADING_IMAGES\": \"Cargando Imágenes\",\r\n            \"EXPORTING\": \"Exportando Ruta...\",\r\n            \"EXPORTED\": \"La ruta ha sido exportada\"\r\n        }, \"DIFFICULTY\": {\r\n            \"EASY\": \"Fácil\",\r\n            \"MEDIUM\": \"Intermedio\",\r\n            \"HARD\": \"Difícil\"\r\n        }, \"MATERIALITY\": {\r\n            \"KNOWLEDGE\": \"Conocimiento\",\r\n            \"SKILL\": \"Competencia\",\r\n            \"EXCELLENCE\": \"Excelencia\",\r\n            \"CERTIFICATION\": \"Certificación\",\r\n            \"EXPERTISE\": \"Experticia\",\r\n            \"MEMBERSHIP\": \"Membresía\",\r\n            \"PARTICIPATION\": \"Participación\"\r\n        }, \"LANGUAGES\": {\r\n            \"es\": \"Español\",\r\n            \"en\": \"Inglés\",\r\n            \"pt\": \"Portugués\",\r\n            \"fr\": \"Francés\",\r\n            \"other\": \"Otro\"\r\n        },\r\n    }\r\n}","export default \".general-text {\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  line-height: 1.2em;\\n  max-height: 3.6em;\\n  font-size: 0.95em; }\\n\\n.button-div {\\n  width: 33%;\\n  height: 100%;\\n  text-align: center;\\n  cursor: pointer; }\\n\\n.button-div:hover {\\n  background-color: #cacaca; }\\n\\n.left {\\n  border-top-left-radius: 5px;\\n  border-bottom-left-radius: 5px; }\\n\\n.right {\\n  border-top-right-radius: 5px;\\n  border-bottom-right-radius: 5px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9nb3NvcmlvL3NyYy9qcy9hY3JlZGl0dGEvYXBwLnJ1dGFzLXdlYi9zcmMvYXBwL21haW4vcm91dGVzL3JvdXRlL3JvdXRlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksdUJBQXVCO0VBQ3ZCLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLGlCQUFpQixFQUFBOztBQUdyQjtFQUNJLFVBQVU7RUFDVixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWUsRUFBQTs7QUFHbkI7RUFDSSx5QkFBeUIsRUFBQTs7QUFHN0I7RUFDSSwyQkFBMkI7RUFDM0IsOEJBQThCLEVBQUE7O0FBR2xDO0VBQ0ksNEJBQTRCO0VBQzVCLCtCQUErQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbWFpbi9yb3V0ZXMvcm91dGUvcm91dGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZ2VuZXJhbC10ZXh0IHtcclxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGxpbmUtaGVpZ2h0OiAxLjJlbTtcclxuICAgIG1heC1oZWlnaHQ6IDMuNmVtO1xyXG4gICAgZm9udC1zaXplOiAwLjk1ZW07XHJcbn1cclxuXHJcbi5idXR0b24tZGl2IHtcclxuICAgIHdpZHRoOiAzMyU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5idXR0b24tZGl2OmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNjYWNhY2E7XHJcbn1cclxuXHJcbi5sZWZ0IHtcclxuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDVweDtcclxuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDVweDtcclxufVxyXG5cclxuLnJpZ2h0IHtcclxuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA1cHg7XHJcbiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNXB4O1xyXG59Il19 */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { RoutesService } from '../routes.service';\r\n\r\n@Component({\r\n  selector: 'route',\r\n  templateUrl: './route.component.html',\r\n  styleUrls: ['./route.component.scss']\r\n})\r\nexport class RouteComponent implements OnInit {\r\n  \r\n  @Input('route') route;\r\n  url;\r\n  img;\r\n  date;\r\n\r\n  @Output() view: EventEmitter<any> = new EventEmitter();\r\n  @Output() edit: EventEmitter<any> = new EventEmitter();\r\n  @Output() delete: EventEmitter<any> = new EventEmitter();\r\n\r\n  defaultImg = 'assets/images/placeholder.png'\r\n\r\n  constructor(private service: RoutesService) { }\r\n\r\n  ngOnInit() {\r\n    if(this.route.image_url) {\r\n      if(this.route.image_url.includes('http')) {\r\n        this.url = this.route.image_url;\r\n        this.img = true;\r\n      } else {\r\n        this.service.getRouteImage(this.route.id).subscribe(res => {\r\n          var reader = new FileReader();\r\n          reader.readAsDataURL(res);\r\n          reader.onload = (event) => {\r\n            this.url = reader.result;\r\n            this.img = true;\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      this.url = this.defaultImg;\r\n      this.img = false;\r\n    }\r\n  }\r\n\r\n  getEllipsis(str: string) {\r\n    if(str.length < 120) return str; return str.substring(0, 120).trim() + '...';\r\n  }\r\n\r\n  getTimestamp() {\r\n    if(!this.date) this.date = Date.now();\r\n    return this.date;\r\n  }\r\n\r\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vcm91dGVzL3JvdXRlcy5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { FuseConfigService } from '@fuse/services/config.service';\r\nimport { FuseTranslationLoaderService } from '@fuse/services/translation-loader.service';\r\n\r\nimport { locale as spanish } from './i18n/es';\r\nimport { RoutesService } from './routes.service';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { FuseProgressBarService } from '@fuse/components/progress-bar/progress-bar.service';\r\nimport { MatSnackBarHorizontalPosition, MatSnackBarVerticalPosition, MatSnackBar } from '@angular/material/snack-bar';\r\n\r\n@Component({\r\n  selector: 'routes',\r\n  templateUrl: './routes.component.html',\r\n  styleUrls: ['./routes.component.scss']\r\n})\r\nexport class RoutesComponent implements OnInit {\r\n\r\n  loading: boolean = true;\r\n  routes = [];\r\n\r\n  public horizontalPos: MatSnackBarHorizontalPosition = 'center';\r\n  public verticalPos: MatSnackBarVerticalPosition = 'top';\r\n\r\n  constructor(\r\n      private _fuseTranslationLoaderService: FuseTranslationLoaderService,\r\n      private router: Router,\r\n      private fuseConfigService: FuseConfigService,\r\n      private routeService: RoutesService,\r\n      private dialog: MatDialog,\r\n      private fuseProgressBarService: FuseProgressBarService,\r\n      private snackbar: MatSnackBar\r\n    ) {\r\n    this.fuseConfigService.config = {\r\n      layout: {\r\n        navbar: {\r\n          hidden: false\r\n        },\r\n        toolbar: {\r\n          hidden: false\r\n        }\r\n      }\r\n    }\r\n\r\n    this._fuseTranslationLoaderService.loadTranslations(spanish);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fuseProgressBarService.show();\r\n    this.getRoutes();\r\n  }\r\n\r\n  getRoutes() {\r\n    this.routeService.getRoutesList().subscribe(res => {\r\n      this.routes = res;\r\n      this.loading = false;\r\n      this.fuseProgressBarService.hide();\r\n    })\r\n  }\r\n\r\n  deleteRoute(id) {\r\n    const dialog = this.dialog.open(DeleteDialogComponent, {\r\n      data: {\r\n      }\r\n    });\r\n\r\n    dialog.afterClosed().subscribe(res => {\r\n      if(typeof res !== 'undefined') {\r\n        this.fuseProgressBarService.show();\r\n        this.routeService.deleteRoute(id).subscribe(res => {\r\n          if(res.status == 500) {\r\n            this.snackbar.open(res.message, 'ERROR', {\r\n                horizontalPosition: this.horizontalPos,\r\n                verticalPosition: this.verticalPos,\r\n                duration: 5000,\r\n                panelClass: 'red'\r\n            });\r\n        } else {\r\n            this.snackbar.open(res.message, 'INFO', {\r\n                horizontalPosition: this.horizontalPos,\r\n                verticalPosition: this.verticalPos,\r\n                duration: 5000,\r\n                panelClass: 'green'\r\n            });\r\n        }\r\n          this.getRoutes();\r\n        }, err => {\r\n          this.snackbar.open(err.error.message, 'ERROR', {\r\n            horizontalPosition: this.horizontalPos,\r\n            verticalPosition: this.verticalPos,\r\n            duration: 5000,\r\n            panelClass: 'red'\r\n          });\r\n          this.fuseProgressBarService.hide();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  viewRoute(id) {\r\n    this.router.navigate(['routes/consult/' + id]);\r\n  }\r\n\r\n  editRoute(id) {\r\n    this.router.navigate(['routes/edit/' + id]);\r\n  }\r\n\r\n}\r\n\r\n@Component({\r\n  selector: 'delete-dialog',\r\n  templateUrl: './delete-dialog/delete-dialog.component.html',\r\n})\r\nexport class DeleteDialogComponent implements OnInit {\r\n\r\n  constructor(\r\n      public dialogRef: MatDialogRef<any>,\r\n      private router: Router,\r\n      @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  cancel(): void {\r\n      this.dialogRef.close();\r\n  }\r\n\r\n  delete(): void {\r\n      \r\n  }\r\n}","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\n\r\nimport { FuseSharedModule } from '@fuse/shared.module';\r\n\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\n\r\nimport { RoutesComponent, DeleteDialogComponent } from './routes.component';\r\nimport { CreateComponent, CancelDialogComponent, ResetDialogComponent, RootDialogComponent } from './create/create.component';\r\nimport { CreateRouteDialogComponent } from './create/create-route-dialog/create-route-dialog.component';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { RouteComponent } from './route/route.component';\r\nimport { DetailComponent } from './detail/detail.component';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\n\r\nconst routes = [\r\n    {\r\n        path: 'consult',\r\n        component: RoutesComponent\r\n    },\r\n    {\r\n        path: 'create',\r\n        component: CreateComponent\r\n    }, {\r\n        path: 'consult/:routeId',\r\n        component: DetailComponent\r\n    }, {\r\n        path: 'edit/:routeId',\r\n        component: CreateComponent\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    declarations: [\r\n        RoutesComponent,\r\n        RouteComponent,\r\n        CreateComponent,\r\n        CreateRouteDialogComponent,\r\n        DeleteDialogComponent,\r\n        CancelDialogComponent,\r\n        ResetDialogComponent,\r\n        RootDialogComponent,\r\n        DetailComponent\r\n    ],\r\n    imports     : [\r\n        RouterModule.forChild(routes),\r\n\r\n        TranslateModule,\r\n\r\n        FuseSharedModule,\r\n\r\n        MatInputModule,\r\n        MatSelectModule,\r\n        MatButtonModule,\r\n        MatTooltipModule,\r\n        MatIconModule,\r\n        MatSidenavModule,\r\n        MatSnackBarModule,\r\n        MatDialogModule,\r\n        MatTooltipModule,\r\n        DragDropModule,\r\n        MatCheckboxModule,\r\n        MatDatepickerModule,\r\n        MatChipsModule,\r\n        MatDividerModule\r\n    ],\r\n    exports     : [\r\n        RoutesComponent,\r\n        CreateComponent,\r\n        DetailComponent\r\n    ],\r\n    entryComponents: [CreateRouteDialogComponent, RootDialogComponent, CancelDialogComponent, DeleteDialogComponent, ResetDialogComponent]\r\n})\r\n\r\nexport class RoutesModule\r\n{\r\n}"],"sourceRoot":"webpack:///"}